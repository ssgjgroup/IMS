{"version":3,"sources":["webpack:///src/views/implement-work/online-support-staff.vue","webpack:///./src/views/implement-work/online-support-staff.vue?3806","webpack:///./src/views/implement-work/online-support-staff.vue"],"names":["online_support_staff","required","message","min","max","pattern","setProjectInfo","checkOnlineUserWork","getEtOnlineUserInfo","getProjectId","getUserId","then","data","msg","_this","this","pageSize","currentPage","rows","total","refreshPage","fileList","length","name","val","_this2","workStatus","resetFields","id","userCode","cName","roleName","responseDept","responseSite","telephone","wechatNo","email","mobile","lodging","workId","getContractId","_this4","_this5","implement_work_online_support_staff","render","_vm","_h","$createElement","_c","_self","staticClass","class","active","onlineActive","on","click","confirmOnLineUser","_v","openEtOnlineUserWindow","openLineUploadWindow","downloadExcelLineUser","staticStyle","width","attrs","etOnlineInfo","prop","label","scopedSlots","_u","key","fn","scope","$event","openLineUserDetails","row","deleteEtOnlineUsetInfoDetails","current-page","page-sizes","page-size","layout","size-change","handleSizeChange","current-change","handleCurrentChange","title","visible","etOnlineUserWindow","update:visible","ref","model","etOnlineUserForm","rules","label-width","auto-complete","value","callback","$$v","$set","expression","slot","type","onlineAddOrModify","uploadWindow","action","on-preview","handlePreview","on-remove","handleRemove","on-success","uploadSeccess","before-remove","beforeRemove","multiple","limit","on-exceed","handleExceed","file-list","size","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"uHA+IAA,iCAIA,aACA,QACA,4BAEA,kEAIA,WACA,SACA,gBACA,kBAEAC,UAAA,EAAAC,QACA,YAAAC,IAAA,EAAAC,IAAA,GAAAF,QAEA,0BACAD,UAAA,EAAAC,QAEA,mBACAD,UAAA,EAAAC,QAEA,qBACAD,UAAA,EAAAC,QAEA,uBACAG,QAAA,mBAAAH,QAEA,2BACAG,QAAA,mEAAAH,QAEA,qBACAD,UAAA,EAAAC,QAEA,oBACAD,UAAA,EAAAC,QAGA,sCAEA,WACA,SACA,YACA,gBACA,gBACA,aACA,YACA,SACA,WAEA,uBACA,iBAEA,4DAGA,gBACAI,sBACAC,qDAEAC,4HAOAC,qCACAC,cAFAC,KAAA,SAAAC,iBAIAC,uCAIA,IAAAC,EAAAC,YACAC,iBACAC,eACAD,iBACAP,sHAGAS,eACAC,4FAOA,OACAC,uCAEAP,2EAUAQ,oHAIAC,QAAA,mEAIAC,KAAA,iDAIAC,OAEAJ,gEAIAI,OACAJ,2CAGAb,2BACAC,sDAGA,IAAAiB,EAAAV,0BAGAN,wHAGAiB,iHAMAC,6CAEAC,oCACAC,uCACAC,uCACAC,8CACAC,kDACAC,+CACAC,2CACAC,uCACAC,qCACAC,uCACAC,mBACA,8BACA,uGAIAX,2CAEA,iCACA,+BACA,kCACA,sCACA,sCACA,mCACA,kCACA,iCACA,+BACA,4BACA,uEAIA,iHACAjB,kFAIA6B,sCACAV,qCACAC,qCACAC,4CACAC,gDACAC,6CACAC,yCACAC,uCACAG,oCACAF,wBACA3B,gCACA+B,sCAEA9B,yEAcA,mBACA,iFAXAE,2DAEA,YACAQ,gDAEA,uCAGA,+CAQA,IAAAqB,EAAA1B,gEAEA,sBACA,UACA,YAHAJ,KAAA,0IAOA,YACAS,qDAKA,eAEA,qHAIAX,8CAGA,IAAAiC,EAAA3B,oBACAN,8BACAC,+EAEA,qBACA,SACA,YAHAC,KAAA,wJAOA,0BACA,IACAH,6DAKA,eAEA,eC9YAmC,GADiBC,OAFjB,WAA0B,IAAAC,EAAA9B,KAAa+B,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,oBAA8BF,EAAA,OAAYE,YAAA,YAAsBF,EAAA,OAAYE,YAAA,gBAA0BF,EAAA,QAAaG,OAAOC,OAAAP,EAAAQ,cAA0BC,IAAKC,MAAAV,EAAAW,qBAA+BR,EAAA,KAAUE,YAAA,gCAA0CL,EAAAY,GAAA,UAAAZ,EAAAY,GAAA,KAAAT,EAAA,QAA0CM,IAAIC,MAAAV,EAAAa,0BAAoCV,EAAA,KAAUE,YAAA,0BAAoCL,EAAAY,GAAA,QAAAZ,EAAAY,GAAA,KAAAT,EAAA,QAAwCM,IAAIC,MAAAV,EAAAc,wBAAkCX,EAAA,KAAUE,YAAA,0BAAoCL,EAAAY,GAAA,QAAAZ,EAAAY,GAAA,KAAAT,EAAA,QAAwCM,IAAIC,MAAAV,EAAAe,yBAAmCZ,EAAA,KAAUE,YAAA,yBAAmCL,EAAAY,GAAA,UAAAZ,EAAAY,GAAA,KAAAT,EAAA,OAAyCE,YAAA,oBAA8BF,EAAA,YAAiBa,aAAaC,MAAA,QAAeC,OAAQnD,KAAAiC,EAAAmB,gBAAyBhB,EAAA,mBAAwBe,OAAOE,KAAA,WAAAC,MAAA,QAAgCrB,EAAAY,GAAA,KAAAT,EAAA,mBAAoCe,OAAOE,KAAA,QAAAC,MAAA,QAA6BrB,EAAAY,GAAA,KAAAT,EAAA,mBAAoCe,OAAOE,KAAA,WAAAC,MAAA,QAAgCrB,EAAAY,GAAA,KAAAT,EAAA,mBAAoCe,OAAOE,KAAA,eAAAC,MAAA,QAAoCrB,EAAAY,GAAA,KAAAT,EAAA,mBAAoCe,OAAOE,KAAA,eAAAC,MAAA,QAAoCrB,EAAAY,GAAA,KAAAT,EAAA,mBAAoCe,OAAOE,KAAA,YAAAC,MAAA,QAAiCrB,EAAAY,GAAA,KAAAT,EAAA,mBAAoCe,OAAOE,KAAA,WAAAC,MAAA,SAAiCrB,EAAAY,GAAA,KAAAT,EAAA,mBAAoCe,OAAOE,KAAA,QAAAC,MAAA,QAA6BrB,EAAAY,GAAA,KAAAT,EAAA,mBAAoCe,OAAOE,KAAA,UAAAC,MAAA,UAAiCrB,EAAAY,GAAA,KAAAT,EAAA,mBAAoCe,OAAOG,MAAA,MAAaC,YAAAtB,EAAAuB,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAAvB,EAAA,OAAkBE,YAAA,YAAsBF,EAAA,KAAUE,YAAA,qBAAAI,IAAqCC,MAAA,SAAAiB,GAAyB3B,EAAA4B,oBAAAF,EAAAG,SAAqC7B,EAAAY,GAAA,KAAAT,EAAA,KAAsBE,YAAA,uBAAAI,IAAuCC,MAAA,SAAAiB,GAAyB3B,EAAA8B,8BAAAJ,EAAAG,IAAA9C,kBAA2D,OAAAiB,EAAAY,GAAA,KAAAT,EAAA,OAAgCE,YAAA,iBAA2BF,EAAA,iBAAsBe,OAAOa,eAAA/B,EAAA5B,YAAA4D,cAAA,aAAAC,YAAAjC,EAAA7B,SAAA+D,OAAA,0CAAA5D,MAAA0B,EAAA1B,OAA2JmC,IAAK0B,cAAAnC,EAAAoC,iBAAAC,iBAAArC,EAAAsC,wBAA6E,KAAAtC,EAAAY,GAAA,KAAAT,EAAA,aAAoCe,OAAOqB,MAAAvC,EAAAuC,MAAAtB,MAAA,MAAAuB,QAAAxC,EAAAyC,oBAAiEhC,IAAKiC,iBAAA,SAAAf,GAAkC3B,EAAAyC,mBAAAd,MAAgCxB,EAAA,WAAgBwC,IAAA,mBAAAzB,OAA8B0B,MAAA5C,EAAA6C,iBAAAC,MAAA9C,EAAA8C,SAAgD3C,EAAA,gBAAqBe,OAAOG,MAAA,KAAA0B,cAAA,OAAA3B,KAAA,WAAAhE,SAAA,MAAmE+C,EAAA,YAAiBe,OAAO8B,gBAAA,OAAsBJ,OAAQK,MAAAjD,EAAA6C,iBAAA,SAAAK,SAAA,SAAAC,GAA+DnD,EAAAoD,KAAApD,EAAA6C,iBAAA,WAAAM,IAAgDE,WAAA,gCAAyC,GAAArD,EAAAY,GAAA,KAAAT,EAAA,gBAAqCe,OAAOG,MAAA,KAAA0B,cAAA,OAAA3B,KAAA,QAAAhE,SAAA,MAAgE+C,EAAA,YAAiBe,OAAO8B,gBAAA,OAAsBJ,OAAQK,MAAAjD,EAAA6C,iBAAA,MAAAK,SAAA,SAAAC,GAA4DnD,EAAAoD,KAAApD,EAAA6C,iBAAA,QAAAM,IAA6CE,WAAA,6BAAsC,GAAArD,EAAAY,GAAA,KAAAT,EAAA,gBAAqCe,OAAOG,MAAA,KAAA0B,cAAA,OAAA3B,KAAA,eAAAhE,SAAA,MAAuE+C,EAAA,YAAiBe,OAAO8B,gBAAA,OAAsBJ,OAAQK,MAAAjD,EAAA6C,iBAAA,aAAAK,SAAA,SAAAC,GAAmEnD,EAAAoD,KAAApD,EAAA6C,iBAAA,eAAAM,IAAoDE,WAAA,oCAA6C,GAAArD,EAAAY,GAAA,KAAAT,EAAA,gBAAqCe,OAAOG,MAAA,KAAA0B,cAAA,OAAA3B,KAAA,WAAAhE,SAAA,MAAmE+C,EAAA,YAAiBe,OAAO8B,gBAAA,OAAsBJ,OAAQK,MAAAjD,EAAA6C,iBAAA,SAAAK,SAAA,SAAAC,GAA+DnD,EAAAoD,KAAApD,EAAA6C,iBAAA,WAAAM,IAAgDE,WAAA,gCAAyC,GAAArD,EAAAY,GAAA,KAAAT,EAAA,gBAAqCe,OAAOG,MAAA,KAAA0B,cAAA,OAAA3B,KAAA,eAAAhE,SAAA,MAAuE+C,EAAA,YAAiBe,OAAO8B,gBAAA,OAAsBJ,OAAQK,MAAAjD,EAAA6C,iBAAA,aAAAK,SAAA,SAAAC,GAAmEnD,EAAAoD,KAAApD,EAAA6C,iBAAA,eAAAM,IAAoDE,WAAA,oCAA6C,GAAArD,EAAAY,GAAA,KAAAT,EAAA,gBAAqCe,OAAOG,MAAA,MAAA0B,cAAA,OAAA3B,KAAA,WAAAhE,SAAA,MAAoE+C,EAAA,YAAiBe,OAAO8B,gBAAA,OAAsBJ,OAAQK,MAAAjD,EAAA6C,iBAAA,SAAAK,SAAA,SAAAC,GAA+DnD,EAAAoD,KAAApD,EAAA6C,iBAAA,WAAAM,IAAgDE,WAAA,gCAAyC,GAAArD,EAAAY,GAAA,KAAAT,EAAA,gBAAqCe,OAAOG,MAAA,KAAA0B,cAAA,OAAA3B,KAAA,YAAAhE,SAAA,MAAoE+C,EAAA,YAAiBe,OAAO8B,gBAAA,OAAsBJ,OAAQK,MAAAjD,EAAA6C,iBAAA,UAAAK,SAAA,SAAAC,GAAgEnD,EAAAoD,KAAApD,EAAA6C,iBAAA,YAAAM,IAAiDE,WAAA,iCAA0C,GAAArD,EAAAY,GAAA,KAAAT,EAAA,gBAAqCe,OAAOG,MAAA,KAAA0B,cAAA,OAAA3B,KAAA,QAAAhE,SAAA,MAAgE+C,EAAA,YAAiBe,OAAO8B,gBAAA,OAAsBJ,OAAQK,MAAAjD,EAAA6C,iBAAA,MAAAK,SAAA,SAAAC,GAA4DnD,EAAAoD,KAAApD,EAAA6C,iBAAA,QAAAM,IAA6CE,WAAA,6BAAsC,GAAArD,EAAAY,GAAA,KAAAT,EAAA,gBAAqCe,OAAOG,MAAA,OAAA0B,cAAA,OAAA3B,KAAA,UAAAhE,SAAA,MAAoE+C,EAAA,YAAiBe,OAAO8B,gBAAA,OAAsBJ,OAAQK,MAAAjD,EAAA6C,iBAAA,QAAAK,SAAA,SAAAC,GAA8DnD,EAAAoD,KAAApD,EAAA6C,iBAAA,UAAAM,IAA+CE,WAAA,+BAAwC,OAAArD,EAAAY,GAAA,KAAAT,EAAA,OAAgCE,YAAA,gBAAAa,OAAmCoC,KAAA,UAAgBA,KAAA,WAAenD,EAAA,aAAkBM,IAAIC,MAAA,SAAAiB,GAAyB3B,EAAAyC,oBAAA,MAAiCzC,EAAAY,GAAA,SAAAZ,EAAAY,GAAA,KAAAT,EAAA,aAA8Ce,OAAOqC,KAAA,WAAiB9C,IAAKC,MAAA,SAAAiB,GAAyB3B,EAAAwD,kBAAA,wBAA4CxD,EAAAY,GAAA,iBAAAZ,EAAAY,GAAA,KAAAT,EAAA,aAAsDe,OAAOqB,MAAA,OAAAtB,MAAA,MAAAuB,QAAAxC,EAAAyD,cAAwDhD,IAAKiC,iBAAA,SAAAf,GAAkC3B,EAAAyD,aAAA9B,MAA0BxB,EAAA,aAAkBE,YAAA,cAAAa,OAAiCwC,OAAA1D,EAAA0D,OAAAC,aAAA3D,EAAA4D,cAAAC,YAAA7D,EAAA8D,aAAAC,aAAA/D,EAAAgE,cAAAC,gBAAAjE,EAAAkE,aAAAC,SAAA,GAAAC,MAAA,EAAAC,YAAArE,EAAAsE,aAAAC,YAAAvE,EAAAxB,YAA+N2B,EAAA,aAAkBe,OAAOsD,KAAA,QAAAjB,KAAA,aAAiCvD,EAAAY,GAAA,UAAAZ,EAAAY,GAAA,KAAAT,EAAA,OAAyCE,YAAA,iBAAAa,OAAoCoC,KAAA,OAAaA,KAAA,QAAYtD,EAAAY,GAAA,kCAAAZ,EAAAY,GAAA,KAAAT,EAAA,OAAiEE,YAAA,gBAAAa,OAAmCoC,KAAA,UAAgBA,KAAA,WAAenD,EAAA,aAAkBM,IAAIC,MAAA,SAAAiB,GAAyB3B,EAAAyD,cAAA,MAA2BzD,EAAAY,GAAA,sBAEh3M6D,oBCEjB,IAcAC,EAdAC,EAAA,OAcAC,CACAzH,EACA2C,GATA,EAXA,SAAA+E,GACAF,EAAA,QACAA,EAAA,SAaA,kBAEA,MAUAG,EAAA,QAAAJ,EAAA","file":"static/js/5.bb3ecafb53be00e19385.js","sourcesContent":["<!--\n* @author: evol\n* @date: 2018年5月7日\n* @module:上线支持人员\n-->\n<template>\n  <div class=\"testAndHardware\">\n    <!--接口对应系统-->\n    <div class=\"w-table\">\n      <div class=\"w-table-btn\">\n        <span @click=\"confirmOnLineUser\" :class=\"{ active:onlineActive }\"><i class=\"iconfont icon-conf-complete\"></i>确认完成</span>\n        <span @click=\"openEtOnlineUserWindow\"><i class=\"iconfont icon-new-add\"></i>新增</span>\n        <span @click=\"openLineUploadWindow\"><i class=\"iconfont icon-to-lead\"></i>导入</span>\n        <span @click=\"downloadExcelLineUser\"><i class=\"iconfont icon-export\"></i>导出</span>\n      </div>\n      <div class=\"w-table-content\">\n        <el-table\n          :data=\"etOnlineInfo\"\n          style=\"width: 100%\">\n          <el-table-column\n            prop=\"userCode\"\n            label=\"工号\">\n          </el-table-column>\n          <el-table-column\n            prop=\"cName\"\n            label=\"姓名\">\n          </el-table-column>\n          <el-table-column\n            prop=\"roleName\"\n            label=\"角色\">\n          </el-table-column>\n          <el-table-column\n            prop=\"responseDept\"\n            label=\"部门\">\n          </el-table-column>\n          <el-table-column\n            prop=\"responseSite\"\n            label=\"站点\">\n          </el-table-column>\n          <el-table-column\n            prop=\"telephone\"\n            label=\"电话\">\n          </el-table-column>\n          <el-table-column\n            prop=\"wechatNo\"\n            label=\"微信号\">\n          </el-table-column>\n          <el-table-column\n            prop=\"email\"\n            label=\"邮箱\">\n          </el-table-column>\n          <el-table-column\n            prop=\"lodging\"\n            label=\"住宿信息\">\n          </el-table-column>\n          <el-table-column\n            label=\"操作\">\n            <template slot-scope=\"scope\">\n              <div class=\"operate\">\n                <i class=\"iconfont icon-edit\" @click=\"openLineUserDetails(scope.row)\"></i>\n                <i class=\"iconfont icon-delete\" @click=\"deleteEtOnlineUsetInfoDetails(scope.row.id)\"></i>\n              </div>\n            </template>\n          </el-table-column>\n        </el-table>\n      </div>\n      <div class=\"w-table-page\">\n        <el-pagination\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :current-page=\"currentPage\"\n          :page-sizes=\"[10, 20, 30, 40]\"\n          :page-size=\"pageSize\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"total\">\n        </el-pagination>\n      </div>\n    </div>\n\n    <!--上线支持人员录入弹窗-->\n    <el-dialog :title=\"title\" width=\"30%\" :visible.sync=\"etOnlineUserWindow\">\n      <el-form :model=\"etOnlineUserForm\" :rules=\"rules\" ref=\"etOnlineUserForm\">\n        <el-form-item label=\"工号\" label-width=\"60px\" prop=\"userCode\" required>\n          <el-input v-model=\"etOnlineUserForm.userCode\" auto-complete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"姓名\" label-width=\"60px\" prop=\"cName\" required>\n          <el-input v-model=\"etOnlineUserForm.cName\" auto-complete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"部门\" label-width=\"60px\" prop=\"responseDept\" required>\n          <el-input v-model=\"etOnlineUserForm.responseDept\" auto-complete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"角色\" label-width=\"60px\" prop=\"roleName\" required>\n          <el-input v-model=\"etOnlineUserForm.roleName\" auto-complete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"站点\" label-width=\"60px\" prop=\"responseSite\" required>\n          <el-input v-model=\"etOnlineUserForm.responseSite\" auto-complete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"微信号\" label-width=\"70px\" prop=\"wechatNo\" required>\n          <el-input v-model=\"etOnlineUserForm.wechatNo\" auto-complete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"电话\" label-width=\"60px\" prop=\"telephone\" required>\n          <el-input v-model=\"etOnlineUserForm.telephone\" auto-complete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"邮箱\" label-width=\"60px\" prop=\"email\" required>\n          <el-input v-model=\"etOnlineUserForm.email\" auto-complete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"住宿信息\" label-width=\"80px\" prop=\"lodging\" required>\n          <el-input v-model=\"etOnlineUserForm.lodging\" auto-complete=\"off\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"etOnlineUserWindow = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"onlineAddOrModify('etOnlineUserForm')\">确 定</el-button>\n      </div>\n    </el-dialog>\n\n    <!--文件上传弹窗-->\n    <el-dialog title=\"文件上传\" width=\"30%\" :visible.sync=\"uploadWindow\">\n      <el-upload\n        class=\"upload-demo\"\n        :action=\"action\"\n        :on-preview=\"handlePreview\"\n        :on-remove=\"handleRemove\"\n        :on-success=\"uploadSeccess\"\n        :before-remove=\"beforeRemove\"\n        multiple\n        :limit=\"1\"\n        :on-exceed=\"handleExceed\"\n        :file-list=\"fileList\">\n        <el-button size=\"small\" type=\"primary\">点击上传</el-button>\n        <div slot=\"tip\" class=\"el-upload__tip\">只能上传xls/xlsx文件，且不超过500kb</div>\n      </el-upload>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"uploadWindow = false\">取 消</el-button>\n      </div>\n    </el-dialog>\n\n  </div>\n</template>\n<!--JavaScript-->\n<script>\n  import api from '../../../api/api'\n\n  export default {\n    data() {\n      return {\n        action:\"\",\n        formOpen: true,\n        title: '新增',\n        uploadWindow: false,//导入弹窗默认关闭\n        workId: 0,\n        fileList:[],\n        onlineActive: false,//确认完成\n        etOnlineInfo: [],\n        etOnlineUserWindow: false,\n        pageSize: 10,\n        total: 100,\n        currentPage: 1,\n        rules: {\n          userid: [\n            {required: true, message: '请输入用户工号'},\n            {min: 1, max: 10, message: '长度在 1 到 10 个字符'}\n          ],\n          yhmc: [\n            {required: true, message: '请输入用户姓名'}\n          ],\n          clo1: [\n            {required: true, message: '请输入用户所在部门'}\n          ],\n          clo2: [\n            {required: true, message: '请输入用户当前角色'}\n          ],\n          mobile: [\n            {pattern: /^1[345789]\\d{9}$/, message: '目前只支持中国大陆的手机号码'}\n          ],\n          email: [\n            {pattern: /^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\\.[a-zA-Z0-9_-]{2,3}){1,2})$/, message: '邮箱验证失败'}\n          ],\n          product: [\n            {required: true, message: '请输入产品名称'}\n          ],\n          model: [\n            {required: true, message: '请输入模块名称'}\n          ]\n        },\n        etOnlineUserForm: {\n          workId: 0,\n          userCode: '',\n          cName: '',\n          roleName: '',\n          responseDept: '',\n          responseSite: '',\n          telephone: '',\n          wechatNo: '',\n          email: '',\n          lodging: ''\n        },\n        dialogFormVisible: false,\n        formLabelWidth: '120px',\n      }\n    },\n    created() {\n      this.$parent.setSelectDisable(true);\n      this.$parent.setProjectInfo();\n      this.checkOnlineUserWork();\n      this.$nextTick(function () {\n        this.getEtOnlineUserInfo();\n      })\n    },\n    methods: {\n      //初始化接口数据源\n      initSourceData() {\n        api.post(api.url.softHardware.initSourceData, {\n          pmId: this.$parent.getProjectId(),\n          operator: this.$parent.getUserId(),\n        }).then((data) => {\n          console.log(data.msg);\n        });\n      },\n      //上线支持人员\n      getEtOnlineUserInfo: function () {\n        var pageSize = this.pageSize;\n        var currentPage = this.currentPage;\n        var first = (currentPage - 1) * pageSize;\n        var pmId = this.$parent.getProjectId();\n        api.post(api.url.etOnlineUserInfo.initData, {'pmId': pmId, 'first': first, 'count': pageSize}).then((data) => {\n          //console.log(data);\n          this.etOnlineInfo = data.rows;\n          this.total = data.total;\n        });\n      },\n      //上传成功\n      uploadSeccess: function (response) {\n        if (response.status == 'success') {\n          this.fileList = [];\n          this.uploadWindow = false;\n          this.refreshPage();\n        } else {\n          this.$message.warning(response.msg);\n        }\n      },\n      //移除上传文件\n      handleRemove(file, fileList) {\n        //console.log(file, fileList);\n      },\n      //展示\n      handlePreview(file) {\n        //console.log(file);\n        console.log(file, fileList);\n      },\n      //限制文件\n      handleExceed(files, fileList) {\n        this.$message.warning(`当前限制选择 1 个文件，本次选择了 ${files.length} 个文件，共选择了 ${files.length + fileList.length} 个文件`);\n      },\n      //移除\n      beforeRemove(file, fileList) {\n        return this.$confirm(`确定移除 ${ file.name }？`);\n      },\n      //pageSize改变事件\n      handleSizeChange(val) {\n        this.pageSize = val;\n        this.refreshPage();\n\n      },\n      //currentPage改变事件\n      handleCurrentChange(val) {\n        this.currentPage = val;\n        this.refreshPage();\n      },\n      refreshPage: function () {\n        this.checkOnlineUserWork();\n        this.getEtOnlineUserInfo();\n      },\n      //============================上线支持人员=====================================//\n      checkOnlineUserWork() {\n        let json = {\n          pmId: this.$parent.getProjectId()\n        };\n        api.post(api.url.etOnlineUserInfo.checkWork, json).then((data) => {\n          if (data.status === 'success') {\n            this.onlineActive = data.workStatus;\n          }\n        });\n      },\n      openLineUserDetails: function (data) { //查看详细数据\n        if (this.$refs['etOnlineUserForm'] !== undefined) {\n          this.$refs['etOnlineUserForm'].resetFields();\n        }\n        this.etOnlineUserForm.workId = data.id;\n        this.etOnlineUserForm.userCode = data.userCode;\n        this.etOnlineUserForm.cName = data.cName;\n        this.etOnlineUserForm.roleName = data.roleName;\n        this.etOnlineUserForm.responseDept = data.responseDept;\n        this.etOnlineUserForm.responseSite = data.responseSite;\n        this.etOnlineUserForm.telephone = data.telephone;\n        this.etOnlineUserForm.wechatNo = data.wechatNo;\n        this.etOnlineUserForm.email = data.email;\n        this.etOnlineUserForm.mobile = data.mobile;\n        this.etOnlineUserForm.lodging = data.lodging;\n        this.title = \"修改\";\n        this.etOnlineUserWindow = true;\n      },\n      openEtOnlineUserWindow: function () {\n        if (this.$refs['etOnlineUserForm'] !== undefined) {\n          this.$refs['etOnlineUserForm'].resetFields();\n        }\n        this.etOnlineUserForm.workId = 0;\n        this.etOnlineUserForm.userCode = '';\n        this.etOnlineUserForm.cName = '';\n        this.etOnlineUserForm.roleName = '';\n        this.etOnlineUserForm.responseDept = '';\n        this.etOnlineUserForm.responseSite = '';\n        this.etOnlineUserForm.telephone = '';\n        this.etOnlineUserForm.wechatNo = '';\n        this.etOnlineUserForm.lodging = '';\n        this.etOnlineUserForm.email = '';\n        this.etOnlineUserWindow = true;\n      },\n      openLineUploadWindow: function () {\n        this.fileList = [];\n        this.uploadWindow = true;\n        this.action = api.url.etOnlineUserInfo.uploadFile + '?pmId=' + this.$parent.getProjectId() + '&operator=' + this.$parent.getUserId();\n      },\n      onlineAddOrModify: function (formName) { //增加或者修改数据\n        var json = {\n          id: this.etOnlineUserForm.workId,\n          userCode: this.etOnlineUserForm.userCode,\n          cName: this.etOnlineUserForm.cName,\n          roleName: this.etOnlineUserForm.roleName,\n          responseDept: this.etOnlineUserForm.responseDept,\n          responseSite: this.etOnlineUserForm.responseSite,\n          telephone: this.etOnlineUserForm.telephone,\n          wechatNo: this.etOnlineUserForm.wechatNo,\n          lodging: this.etOnlineUserForm.lodging,\n          email: this.etOnlineUserForm.email,\n          pmId: this.$parent.getProjectId(),\n          cId: this.$parent.getContractId(),\n          operator: this.$parent.getUserId()\n        };\n        this.$refs[formName].validate((valid) => {\n          if (valid) {\n            api.post(api.url.etOnlineUserInfo.addOrModify, json).then((data) => {\n              console.info(data);\n              if (data.status =='success') {\n                this.$message({type: 'success', message: '操作成功!'});\n                this.refreshPage();\n              }else {\n                this.$message({type: 'error', message: '工号重复，操作失败!'});\n              }\n            });\n            this.etOnlineUserWindow = false;\n          } else {\n            console.log('error submit!!');\n            return false;\n          }\n        });\n\n      },\n      deleteEtOnlineUsetInfoDetails: function (id) {\n        this.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          api.post(api.url.etOnlineUserInfo.deleteUser, {'id': id}).then((data) => {\n            if (data.status == \"success\") {\n              this.$message({type: 'success', message: '删除成功!'});\n              this.refreshPage();\n            }\n          });\n        }).catch(() => {\n          this.$message({\n            type: 'info',\n            message: '已取消删除'\n          });\n        });\n      },\n      downloadExcelLineUser: function () {\n        window.open(api.url.etOnlineUserInfo.exportExcel + '?pmId=' + this.$parent.getProjectId());\n      },\n      //上线支持人员工作确认完成\n      confirmOnLineUser: function () {\n        var pmId = this.$parent.getProjectId();\n        var operator = this.$parent.getUserId();\n        this.$confirm('此操作是用来确定上线支持人员工作完成，是否确定完成?', '提示', {\n          confirmButtonText: '是',\n          cancelButtonText: '否',\n          type: 'warning'\n        }).then(() => {\n          api.post(api.url.etOnlineUserInfo.confirmUser, {'pmId': pmId, 'operator': operator}).then((data) => {\n            if (data.status == \"success\") {\n              this.$message({type: 'success', message: '确认完成!'});\n              this.onlineActive = true;\n              this.getEtOnlineUserInfo();\n            }\n          });\n        }).catch(() => {\n          this.$message({\n            type: 'info',\n            message: '已取消确认'\n          });\n        });\n      },\n    }\n  }\n\n</script>\n<!--CSS-PAGE-->\n<style lang=\"stylus\" scoped>\n  .testAndHardware {\n    padding 0px 15px\n  }\n</style>\n\n<style lang=\"stylus\">\n\n  .default-row-class {\n    color #777777;\n  }\n\n  .invalid-row-class {\n    color #D0D0D0;\n  }\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/implement-work/online-support-staff.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"testAndHardware\"},[_c('div',{staticClass:\"w-table\"},[_c('div',{staticClass:\"w-table-btn\"},[_c('span',{class:{ active:_vm.onlineActive },on:{\"click\":_vm.confirmOnLineUser}},[_c('i',{staticClass:\"iconfont icon-conf-complete\"}),_vm._v(\"确认完成\")]),_vm._v(\" \"),_c('span',{on:{\"click\":_vm.openEtOnlineUserWindow}},[_c('i',{staticClass:\"iconfont icon-new-add\"}),_vm._v(\"新增\")]),_vm._v(\" \"),_c('span',{on:{\"click\":_vm.openLineUploadWindow}},[_c('i',{staticClass:\"iconfont icon-to-lead\"}),_vm._v(\"导入\")]),_vm._v(\" \"),_c('span',{on:{\"click\":_vm.downloadExcelLineUser}},[_c('i',{staticClass:\"iconfont icon-export\"}),_vm._v(\"导出\")])]),_vm._v(\" \"),_c('div',{staticClass:\"w-table-content\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.etOnlineInfo}},[_c('el-table-column',{attrs:{\"prop\":\"userCode\",\"label\":\"工号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"cName\",\"label\":\"姓名\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"roleName\",\"label\":\"角色\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"responseDept\",\"label\":\"部门\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"responseSite\",\"label\":\"站点\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"telephone\",\"label\":\"电话\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"wechatNo\",\"label\":\"微信号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"email\",\"label\":\"邮箱\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"lodging\",\"label\":\"住宿信息\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"operate\"},[_c('i',{staticClass:\"iconfont icon-edit\",on:{\"click\":function($event){_vm.openLineUserDetails(scope.row)}}}),_vm._v(\" \"),_c('i',{staticClass:\"iconfont icon-delete\",on:{\"click\":function($event){_vm.deleteEtOnlineUsetInfoDetails(scope.row.id)}}})])]}}])})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"w-table-page\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[10, 20, 30, 40],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.title,\"width\":\"30%\",\"visible\":_vm.etOnlineUserWindow},on:{\"update:visible\":function($event){_vm.etOnlineUserWindow=$event}}},[_c('el-form',{ref:\"etOnlineUserForm\",attrs:{\"model\":_vm.etOnlineUserForm,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"工号\",\"label-width\":\"60px\",\"prop\":\"userCode\",\"required\":\"\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.etOnlineUserForm.userCode),callback:function ($$v) {_vm.$set(_vm.etOnlineUserForm, \"userCode\", $$v)},expression:\"etOnlineUserForm.userCode\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"姓名\",\"label-width\":\"60px\",\"prop\":\"cName\",\"required\":\"\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.etOnlineUserForm.cName),callback:function ($$v) {_vm.$set(_vm.etOnlineUserForm, \"cName\", $$v)},expression:\"etOnlineUserForm.cName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"部门\",\"label-width\":\"60px\",\"prop\":\"responseDept\",\"required\":\"\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.etOnlineUserForm.responseDept),callback:function ($$v) {_vm.$set(_vm.etOnlineUserForm, \"responseDept\", $$v)},expression:\"etOnlineUserForm.responseDept\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"角色\",\"label-width\":\"60px\",\"prop\":\"roleName\",\"required\":\"\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.etOnlineUserForm.roleName),callback:function ($$v) {_vm.$set(_vm.etOnlineUserForm, \"roleName\", $$v)},expression:\"etOnlineUserForm.roleName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"站点\",\"label-width\":\"60px\",\"prop\":\"responseSite\",\"required\":\"\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.etOnlineUserForm.responseSite),callback:function ($$v) {_vm.$set(_vm.etOnlineUserForm, \"responseSite\", $$v)},expression:\"etOnlineUserForm.responseSite\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"微信号\",\"label-width\":\"70px\",\"prop\":\"wechatNo\",\"required\":\"\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.etOnlineUserForm.wechatNo),callback:function ($$v) {_vm.$set(_vm.etOnlineUserForm, \"wechatNo\", $$v)},expression:\"etOnlineUserForm.wechatNo\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"电话\",\"label-width\":\"60px\",\"prop\":\"telephone\",\"required\":\"\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.etOnlineUserForm.telephone),callback:function ($$v) {_vm.$set(_vm.etOnlineUserForm, \"telephone\", $$v)},expression:\"etOnlineUserForm.telephone\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"label-width\":\"60px\",\"prop\":\"email\",\"required\":\"\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.etOnlineUserForm.email),callback:function ($$v) {_vm.$set(_vm.etOnlineUserForm, \"email\", $$v)},expression:\"etOnlineUserForm.email\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"住宿信息\",\"label-width\":\"80px\",\"prop\":\"lodging\",\"required\":\"\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.etOnlineUserForm.lodging),callback:function ($$v) {_vm.$set(_vm.etOnlineUserForm, \"lodging\", $$v)},expression:\"etOnlineUserForm.lodging\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.etOnlineUserWindow = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.onlineAddOrModify('etOnlineUserForm')}}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"文件上传\",\"width\":\"30%\",\"visible\":_vm.uploadWindow},on:{\"update:visible\":function($event){_vm.uploadWindow=$event}}},[_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"action\":_vm.action,\"on-preview\":_vm.handlePreview,\"on-remove\":_vm.handleRemove,\"on-success\":_vm.uploadSeccess,\"before-remove\":_vm.beforeRemove,\"multiple\":\"\",\"limit\":1,\"on-exceed\":_vm.handleExceed,\"file-list\":_vm.fileList}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")]),_vm._v(\" \"),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传xls/xlsx文件，且不超过500kb\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.uploadWindow = false}}},[_vm._v(\"取 消\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-adc45878\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/views/implement-work/online-support-staff.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-adc45878\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./online-support-staff.vue\")\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-adc45878\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=1!./online-support-staff.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./online-support-staff.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./online-support-staff.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-adc45878\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./online-support-staff.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-adc45878\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/implement-work/online-support-staff.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}