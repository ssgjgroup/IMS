webpackJsonp([1],{EnqD:function(e,t){},HzJ8:function(e,t,o){e.exports={default:o("qm9Q"),__esModule:!0}},UDoY:function(e,t,o){var r=o("ymHI"),i=o("JPh9");e.exports=o("TF39").getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},qm9Q:function(e,t,o){o("E1jr"),o("YhHm"),e.exports=o("UDoY")},ypal:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("HzJ8"),i=o.n(r),a=o("a3Yh"),s=o.n(a),n=o("WhC7"),l={data:function(){var e;return e={formOpen:!0,workId:0,title:"新增",formShrink:!1,uploadWindow:!1,area:"",city:"",areaData:[],hopital:"",hopitalData:[],interfaceInfoId:0,plId:"",plList:[],interfaceInfoData:[],interfaceInfoWindow:!1,interfaceInfoForm:{productName:"",interfaceName:"",moduleDetail:"",remark:""},interfaceInfoRules:{productName:{required:!0,message:"请输入产品名称"},interfaceName:{required:!0,message:"请输入模块名称"}},action:n.a.url.hospitalInfo.uploadFile+"?ssgs="+this.$parent.getContractId(),fileList:[],initData:{},projectForm:{pmCode:"100534",pmName:"北京西路HIS",custom:"上海市儿童医院",junior:"",bed:"12000",location:"10",locationLabel:"上海市",feature:"",hopital:"5",hopitalLabel:"三甲等级",outpatient:"980"},activeName:"zero",workerInfo:[],deptInforWindow:!1,workderInforWindow:!1},s()(e,"uploadWindow",!1),s()(e,"workForm",{userid:"",yhmc:"",col1:"",col2:"",mobile:"",email:""}),s()(e,"uploadForm",{uploadFile:""}),s()(e,"deptId",0),s()(e,"deptForm",{}),s()(e,"deptInfo",[]),s()(e,"etOnlineInfo",[]),s()(e,"etOnlineUserWindow",!1),s()(e,"uploadWindow",!1),s()(e,"pageSize",10),s()(e,"total",100),s()(e,"currentPage",1),s()(e,"etOnlineUserForm",{workId:0,userCode:"",cName:"",roleName:"",responseDept:"",responseSite:"",telephone:"",wechatNo:"",email:"",lodging:""}),s()(e,"etUserInfo",[]),s()(e,"etUserInoFormWindow",!1),s()(e,"uploadEtUserInoWindow",!1),s()(e,"userTypeData",[{id:0,value:0,label:"医院职工"},{id:1,value:1,label:"公司职工"}]),s()(e,"positionTypeData",[{id:0,value:0,label:"项目经理"},{id:1,value:1,label:"主力工程师"},{id:2,value:2,label:"助理工程师"},{id:3,value:3,label:"支持人员"}]),s()(e,"userTypeValue",!1),s()(e,"etUserInoForm",{workId:0,userType:"",userCard:"",cName:"",orgName:"",positionName:"",telephone:"",email:""}),s()(e,"isActive",!1),s()(e,"isUserActive",!1),s()(e,"etUserRoles",{userType:[{required:!0,message:"请选择用户属性"}],userCard:[{required:!0,message:"请输入用户工号"},{min:1,max:10,message:"长度在 1 到 10 个字符",trigger:"blur"}],cName:[{required:!0,message:"请输入用户姓名"}],orgName:[{required:!0,message:"请输入用户所在部门"}],positionName:[{required:!0,message:"请输入用户的职务"}],telephone:[{pattern:/^1[345789]\d{9}$/,message:"目前只支持中国大陆的手机号码"}],email:[{pattern:/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/,message:"邮箱验证失败"}]}),s()(e,"deptRules",{typeName:[{required:!0,message:"请输入科室类别"}],deptName:[{required:!0,message:"请输入科室类别"}]}),s()(e,"etLineUserForm",{workId:0,userCode:"",cName:"",roleName:"",responseDept:"",responseSite:"",telephone:"",wechatNo:"",email:"",mobile:""}),s()(e,"rules",{userid:[{required:!0,message:"请输入用户工号"},{min:1,max:10,message:"长度在 1 到 10 个字符"}],yhmc:[{required:!0,message:"请输入用户姓名"}],clo1:[{required:!0,message:"请输入用户所在部门"}],clo2:[{required:!0,message:"请输入用户当前角色"}],mobile:[{pattern:/^1[345789]\d{9}$/,message:"目前只支持中国大陆的手机号码"}],email:[{pattern:/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/,message:"邮箱验证失败"}],product:[{required:!0,message:"请输入产品名称"}],model:[{required:!0,message:"请输入模块名称"}]}),s()(e,"etOnlineUserRoles",{userCode:[{required:!0,message:"请输入用户工号"},{min:1,max:10,message:"长度在 1 到 10 个字符",trigger:"blur"}],cName:[{required:!0,message:"请输入用户姓名"}],responseDept:[{required:!0,message:"请输入部门"}],roleName:[{required:!0,message:"请输入角色"}],responseSite:[{required:!0,message:"请输入站点"}],wechatNo:[{required:!0,message:"请输入微信号"}],telephone:[{required:!0,message:"请输入电话"},{pattern:/^1[345789]\d{9}$/,message:"目前只支持中国大陆的手机号码",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{pattern:/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/,message:"邮箱验证失败",trigger:"blur"}],lodging:[{required:!0,message:"请输入住宿信息"}]}),s()(e,"taskList",[{prodectName:"上海市儿童医院-北京西路分院",model:"电子处方",detail:"挂号、检查、检验、治疗、住院",note:"注意事项、要求、备注说明信息"}]),s()(e,"implePath",[{milestone:"启动",mainStage:"环境搭建",mainStageType:"环境搭建对硬件及网络要求",mainWork:"列出硬件清单",detailWork:"列出PC打印机等清单",outputConent:"产出物",note:"仔细测量"}]),s()(e,"dialogFormVisible",!1),s()(e,"form",{taskId:0,product:"",productId:0,model:"",modelId:0,detail:"",note:""}),s()(e,"formLabelWidth","120px"),s()(e,"customerID",0),s()(e,"onlineActive",!1),e},created:function(){this.$parent.setSelectDisable(!0),this.$parent.setProjectInfo(),this.customerID=this.$parent.getCustomerId(),this.initSourceData(),this.$nextTick(function(){this.initCodeData(),this.refreshPage(),this.detail()})},methods:{tabSwitch:function(e,t){this.pageSize=10,this.currentPage=1,this.total=100,this.activeName=e.name,this.refreshPage()},initCodeData:function(){var e=this;n.a.post(n.a.url.etCustomerDetail.initCodes,{dictCode:"areaCode"}).then(function(t){e.areaData=t.data,e.projectForm.locationLabel=e.getDictLabel(e.areaData,e.projectForm.location)}),n.a.post(n.a.url.etCustomerDetail.initCodes,{dictCode:"hospitalLevel"}).then(function(t){e.hopitalData=t.data})},getDepartInfo:function(){var e=this,t=this.$parent.getCustomerId(),o=this.pageSize,r=(this.currentPage-1)*o;n.a.post(n.a.url.deptInfo.initData,{serialNo:t,first:r,count:o}).then(function(t){"success"==t.status&&(e.deptInfo=t.rows,e.total=t.total)})},getWorkerInfo:function(){var e=this,t=this.$parent.getCustomerId(),o=this.pageSize,r=(this.currentPage-1)*o;n.a.post(n.a.url.hospitalInfo.initData,{ssgs:t,first:r,count:o}).then(function(t){"success"==t.status&&(e.workerInfo=t.rows,e.total=t.total)})},getProductInfo:function(){var e=this,t=this.$parent.getProjectId(),o=this.pageSize,r=(this.currentPage-1)*o;n.a.post(n.a.url.contract.initData,{xmlcb:t,first:r,count:o}).then(function(t){"success"==t.status&&(e.taskList=t.rows,e.total=t.total)})},detail:function(){var e=this;this.$parent.getUser();n.a.post(n.a.url.etCustomerDetail.initData,{id:this.$parent.getProjectId()}).then(function(t){e.projectForm.id=t.result.id,e.projectForm.custom=t.result.custName,e.projectForm.pmCode=t.result.pmCode,e.projectForm.pmName=t.result.pmName,e.projectForm.junior=t.result.specialType,e.projectForm.bed=t.result.bedNum,e.projectForm.location=t.result.areaCode,e.projectForm.feature=t.result.characteristic,e.projectForm.hopital=t.result.hospitalLevel,e.projectForm.outpatient=t.result.outpatientNum,e.projectForm.locationLabel=e.getDictLabel(e.areaData,t.result.areaCode),e.projectForm.hopitalLabel=e.getDictLabel(e.hopitalData,t.result.hospitalLevel),""==e.projectForm.feature||""==e.projectForm.junior?(e.formShrink=!1,e.formOpen=!0):(e.formShrink=!0,e.formOpen=!1)})},getInerfaceInfo:function(){var e=this,t=this.$parent.getProjectId(),o=this.pageSize,r=(this.currentPage-1)*o;n.a.post(n.a.url.thirdInterface.getData,{pmId:t,first:r,count:o}).then(function(t){"success"==t.status&&(console.info(t),e.interfaceInfoData=t.rows,e.total=t.total,e.plList=t.plList,null==t.process.isPmScope||1!=t.process.isPmScope?e.isActive=!1:1==t.process.isPmScope&&(e.isActive=!0))})},getEtOnlineUserInfo:function(){var e=this,t=this.pageSize,o=(this.currentPage-1)*t,r=this.$parent.getProjectId();n.a.post(n.a.url.etOnlineUserInfo.initData,{pmId:r,first:o,count:t}).then(function(t){e.etOnlineInfo=t.rows,e.total=t.total})},getEtUserInfo:function(){var e=this,t=this.pageSize,o=(this.currentPage-1)*t,r=this.$parent.getProjectId();n.a.post(n.a.url.etUserInfo.initData,{pmId:r,first:o,count:t}).then(function(t){e.etUserInfo=t.rows,e.total=t.total,null==t.process.isPmEntrance||1!=t.process.isPmEntrance?e.isUserActive=!1:1==t.process.isPmEntrance&&(e.isUserActive=!0)})},implementationPathInfo:function(){var e=this,t=this.pageSize,o=(this.currentPage-1)*t;this.$parent.getProjectId();n.a.post(n.a.url.implementationPath.initData,{first:o,count:t}).then(function(t){e.implePath=t.rows,e.total=t.total})},saveData:function(){var e={id:this.projectForm.id,pmCode:this.projectForm.pmCode,pmName:this.projectForm.pmName,custName:this.projectForm.custom,specialType:this.projectForm.junior,bedNum:this.projectForm.bed,areaCode:this.projectForm.location,hospitalLevel:this.projectForm.hopital,outpatientNum:this.projectForm.outpatient,characteristic:this.projectForm.feature,operator:this.$parent.getUserId()};n.a.post(n.a.url.etCustomerDetail.updateCustomer,e).then(function(e){}),this.projectForm.locationLabel=this.getDictLabel(this.areaData,this.projectForm.location),this.projectForm.hopitalLabel=this.getDictLabel(this.hopitalData,this.projectForm.hopital),this.formShrink=!0,this.formOpen=!1},closeMethod:function(){this.formShrink=!0,this.formOpen=!1},openDepartWindow:function(){void 0!==this.$refs.deptForm&&this.$refs.deptForm.resetFields(),this.title="新增",this.deptId=0,this.deptForm.typeName="",this.deptForm.deptName="",this.deptInforWindow=!0},deptAddorModify:function(e){var t=this,o={id:this.deptId,typeName:this.deptForm.typeName,deptName:this.deptForm.deptName,serialNo:this.$parent.getCustomerId()};this.$refs[e].validate(function(e){if(!e)return!1;n.a.post(n.a.url.deptInfo.addOrModify,o).then(function(e){"repeat"==e.status&&t.$message({type:"error",message:"科室重复!"}),t.getDepartInfo()}),t.deptInforWindow=!1})},openDeptDetails:function(e){void 0!==this.$refs.deptForm&&this.$refs.deptForm.resetFields();this.customerID;this.deptId=e.id,this.deptForm.typeName=e.typeName,this.deptForm.deptName=e.deptName,this.title="修改",this.deptInforWindow=!0},deleteDeptRow:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.a.post(n.a.url.deptInfo.deleteDept,{id:e}).then(function(e){"success"==e.status&&(t.$message({type:"success",message:"删除成功!"}),t.getDepartInfo())})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},openDeptUploadWindow:function(){this.fileList=[],this.uploadWindow=!0,this.action=n.a.url.deptInfo.uploadFile+"?serialNo="+this.$parent.getCustomerId()},downDepartloadExcel:function(){window.open(n.a.url.deptInfo.exportExcel+"?serialNo="+this.$parent.getCustomerId())},openDetails:function(e){void 0!==this.$refs.workForm&&this.$refs.workForm.resetFields();var t=this.customerID;this.workId=e.id,this.workForm.userid=e.userid.substring(t.length),this.workForm.yhmc=e.yhmc,this.workForm.clo1=e.clo1,this.workForm.clo2=e.clo2,this.workForm.mobile=e.mobile,this.workForm.email=e.email,this.title="修改",this.workderInforWindow=!0},openWorkinfoWindow:function(){void 0!==this.$refs.workForm&&this.$refs.workForm.resetFields(),this.workId=0,this.workForm.userid="",this.workForm.yhmc="",this.workForm.clo1="",this.workForm.clo2="",this.workForm.mobile="",this.workForm.email="",this.title="新增",this.workderInforWindow=!0},openUploadWindow:function(){this.fileList=[],this.uploadWindow=!0,this.action=n.a.url.hospitalInfo.uploadFile+"?ssgs="+this.$parent.getCustomerId()},addOrModify:function(e){var t=this,o=(this.customerID,{id:this.workId,userid:this.customerID+""+this.workForm.userid,yhmc:this.workForm.yhmc,clo1:this.workForm.clo1,clo2:this.workForm.clo2,mobile:this.workForm.mobile,email:this.workForm.email,ssgs:this.$parent.getCustomerId()});this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;n.a.post(n.a.url.hospitalInfo.addOrModify,o).then(function(e){(e.status="success")&&t.getWorkerInfo()}),t.workderInforWindow=!1})},deleteRow:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.a.post(n.a.url.hospitalInfo.deleteUser,{id:e}).then(function(e){console.log(e),console.log(e.status==n.a.successStatus),"success"==e.status&&(t.$message({type:"success",message:"删除成功!"}),t.getWorkerInfo())})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},downloadExcel:function(){window.open(n.a.url.hospitalInfo.exportExcel+"?ssgs="+this.$parent.getCustomerId())},showCol:function(e){return 0!=e.creator},querySearchAsync:function(e,t){var o=[{}];n.a.post(n.a.url.contract.initProduct,{name:e}).then(function(e){if("success"==e.status){var r=!0,a=!1,s=void 0;try{for(var n,l=i()(e.data);!(r=(n=l.next()).done);r=!0){var c=n.value;c.value=c.name+"["+c.cptxName+"]"}}catch(e){a=!0,s=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw s}}o=e.data}t(o)})},queryModelAsync:function(e,t){var o=[{}];n.a.post(n.a.url.contract.initProduct,{fid:this.form.productId,name:e}).then(function(e){if("success"==e.status){var r=!0,a=!1,s=void 0;try{for(var n,l=i()(e.data);!(r=(n=l.next()).done);r=!0){var c=n.value;c.value=c.name+"["+c.cptxName+"]"}}catch(e){a=!0,s=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw s}}o=e.data}t(o)})},handleSelect:function(e){console.log(e),this.form.product=e.name,this.form.productId=e.id},handleModel:function(e){console.log(e),this.form.model=e.name,this.form.modelId=e.id},addOrModifyProduct:function(e){var t=this,o={id:this.form.taskId,cId:this.$parent.getContractId(),pmId:this.$parent.getProjectId(),zxtmc:this.form.product,cpzxt:this.form.productId,cpmc:this.form.model,cpxx:this.form.modelId,mx:this.form.detail,bz:this.form.note,operator:this.$parent.getUserId()};this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;n.a.post(n.a.url.contract.addOrModifyProduct,o).then(function(e){(e.status="success")&&t.getProductInfo()}),t.dialogFormVisible=!1})},editTask:function(e){void 0!==this.$refs.form&&this.$refs.form.resetFields(),this.form.taskId=e.id,this.form.product=e.zxtmc,this.form.productId=e.cpzxt,this.form.model=e.cpmc,this.form.modelId=e.cpxx,this.form.detail=e.mx,this.form.note=e.bz,this.dialogFormVisible=!0},deleteTask:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.a.post(n.a.url.contract.deleteProduct,{id:e}).then(function(e){"success"==e.status&&(t.$message({type:"success",message:"删除成功!"}),t.getProductInfo())})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},addTask:function(e){void 0!==this.$refs.form&&this.$refs.form.resetFields(),this.form.taskId=0,this.form.product="",this.form.productId=0,this.form.model="",this.form.modelId=0,this.form.detail="",this.form.note="",this.dialogFormVisible=!0},downloadTask:function(){window.open(n.a.url.contract.exportExcel+"?pmId="+this.$parent.getProjectId())},confirmContractTask:function(){var e=this,t=this.$parent.getProjectId(),o="",r="",i="",a=0,s=0;this.isActive?(o="此操作将取消确认项目范围和实施计划制定, 是否继续?",r="取消成功",i="已撤销取消",a=0,s=0):(o="此操作将确认项目范围和实施计划制定, 是否继续?",r="确认成功",i="已取消确认",a=1,s=1),this.$confirm(o,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.a.post(n.a.url.contract.confirmTask,{pmId:t,operator:e.$parent.getUserId(),isPmScope:a,isEtPlan:s}).then(function(t){"success"==t.status&&(e.$message({type:"success",message:r}),e.isActive?e.isActive=!1:e.isActive=!0)})}).catch(function(){e.$message({type:"info",message:i})})},showOperation:function(e){return 0!=e.creator},initSourceData:function(){n.a.post(n.a.url.thirdInterface.initSourceData,{pmId:this.$parent.getProjectId(),operator:this.$parent.getUserId()}).then(function(e){console.log(e.msg)})},openInterfaceInfoWindow:function(e){void 0!==this.$refs.interfaceInfoForm&&this.$refs.interfaceInfoForm.resetFields(),0==e?(this.interfaceInfoForm.productName="",this.interfaceInfoForm.interfaceName="",this.interfaceInfoForm.moduleDetail="",this.interfaceInfoForm.remark="",this.interfaceInfoId=0):(this.interfaceInfoForm.productName=e.productName,this.interfaceInfoForm.interfaceName=e.interfaceName,this.interfaceInfoForm.moduleDetail=e.moduleDetail,this.interfaceInfoForm.remark=e.remark,this.interfaceInfoId=e.id),this.interfaceInfoWindow=!0},deleteInterfaceInfo:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.a.post(n.a.url.thirdInterface.delete,{id:e}).then(function(e){"success"==e.status&&(t.$message({type:"success",message:"删除成功!"}),t.getInerfaceInfo())})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},doSelect:function(e){this.interfaceInfoForm.plId=e,this.plId=e},addOrModifyInterfaceInfo:function(e){var t=this;this.interfaceInfoWindow=!0;var o={id:this.interfaceInfoId,pmId:this.$parent.getProjectId(),productName:this.interfaceInfoForm.productName,interfaceName:this.interfaceInfoForm.interfaceName,moduleDetail:this.interfaceInfoForm.moduleDetail,remark:this.interfaceInfoForm.remark,operator:this.$parent.getUserId()};this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;n.a.post(n.a.url.thirdInterface.addOrModify,o).then(function(e){(e.status="success")&&t.getInerfaceInfo()}),t.interfaceInfoWindow=!1})},downloadInterfaceInfo:function(){var e=this.$parent.getProjectId();window.open(n.a.url.thirdInterface.export+"?pmId="+e)},downloadimplPathInfo:function(){window.open(n.a.url.implementationPath.exportExcel)},openEtUsetInfoDetails:function(e){void 0!==this.$refs.etUserInoForm&&this.$refs.etUserInoForm.resetFields(),this.etUserInoForm.workId=e.id,this.etUserInoForm.userCard=e.userCard,this.etUserInoForm.cName=e.cName,this.etUserInoForm.orgName=e.orgName,this.etUserInoForm.userType=e.userType,e.map.positionName!==e.positionName?this.etUserInoForm.positionName=parseInt(e.positionName):this.etUserInoForm.positionName=e.positionName,this.etUserInoForm.email=e.email,this.etUserInoForm.telephone=e.telephone,this.title="修改",this.etUserInoFormWindow=!0},openEtUserInfoWindow:function(){void 0!==this.$refs.etUserInoForm&&this.$refs.etUserInoForm.resetFields(),this.etUserInoForm.workId=0,this.etUserInoForm.userType="",this.etUserInoForm.userCard="",this.etUserInoForm.cName="",this.etUserInoForm.orgName="",this.etUserInoForm.positionName="",this.etUserInoForm.email="",this.etUserInoForm.telephone="",this.etUserInoFormWindow=!0},userTypeChange:function(e){this.userTypeValue="0"==e},openUploadEtUserInfoWindow:function(){this.fileList=[],this.uploadWindow=!0,this.action=n.a.url.etUserInfo.uploadFile+"?pmId="+this.$parent.getProjectId()},userAddOrModify:function(e){var t=this,o={id:this.etUserInoForm.workId,userType:this.etUserInoForm.userType,userCard:this.etUserInoForm.userCard,cName:this.etUserInoForm.cName,orgName:this.etUserInoForm.orgName,positionName:this.etUserInoForm.positionName,telephone:this.etUserInoForm.telephone,email:this.etUserInoForm.email,pmId:this.$parent.getProjectId(),cId:this.$parent.getContractId(),serialNo:this.$parent.getCustomerId()};this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.$confirm("是否确认操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.a.post(n.a.url.etUserInfo.addOrModify,o).then(function(e){"success"==e.status?(t.$message({type:"success",message:"操作成功!"}),t.getEtUserInfo()):t.$message({type:"error",message:"工号重复，操作失败!"})})}).catch(function(){t.$message({type:"info",message:"已取消"})}),t.etUserInoFormWindow=!1})},downloadExcelEtUserInfo:function(){window.open(n.a.url.etUserInfo.exportExcel+"?pmId="+this.$parent.getProjectId())},deleteEtUsetInfoDetails:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.a.post(n.a.url.etUserInfo.deleteUser,{id:e}).then(function(e){"success"==e.status&&(t.$message({type:"success",message:"删除成功!"}),t.refreshPage())})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},doUserConfirm:function(){var e=this,t=this.$parent.getProjectId(),o="",r="",i="",a=0;this.isUserActive?(o="此操作将取消确认入场准备, 是否继续?",r="取消成功",i="已撤销取消",a=0):(o="此操作将确认入场准备, 是否继续?",r="确认成功",i="已取消确认",a=1),this.$confirm(o,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.a.post(n.a.url.etUserInfo.confirm,{pmId:t,operator:e.$parent.getUserId(),isPmEntrance:a}).then(function(t){"success"==t.status&&(e.$message({type:"success",message:r}),e.isUserActive?e.isUserActive=!1:e.isUserActive=!0)})}).catch(function(){e.$message({type:"info",message:i})})},checkOnlineUserWork:function(){var e=this,t={pmId:this.$parent.getProjectId()};n.a.post(n.a.url.etOnlineUserInfo.checkWork,t).then(function(t){"success"===t.status&&(e.onlineActive=t.workStatus)})},openLineUserDetails:function(e){void 0!==this.$refs.etOnlineUserForm&&this.$refs.etOnlineUserForm.resetFields(),this.etOnlineUserForm.workId=e.id,this.etOnlineUserForm.userCode=e.userCode,this.etOnlineUserForm.cName=e.cName,this.etOnlineUserForm.roleName=e.roleName,this.etOnlineUserForm.responseDept=e.responseDept,this.etOnlineUserForm.responseSite=e.responseSite,this.etOnlineUserForm.telephone=e.telephone,this.etOnlineUserForm.wechatNo=e.wechatNo,this.etOnlineUserForm.email=e.email,this.etOnlineUserForm.mobile=e.mobile,this.etOnlineUserForm.lodging=e.lodging,this.title="修改",this.etOnlineUserWindow=!0},openEtOnlineUserWindow:function(){void 0!==this.$refs.etOnlineUserForm&&this.$refs.etOnlineUserForm.resetFields(),this.etOnlineUserForm.workId=0,this.etOnlineUserForm.userCode="",this.etOnlineUserForm.cName="",this.etOnlineUserForm.roleName="",this.etOnlineUserForm.responseDept="",this.etOnlineUserForm.responseSite="",this.etOnlineUserForm.telephone="",this.etOnlineUserForm.wechatNo="",this.etOnlineUserForm.lodging="",this.etOnlineUserForm.email="",this.etOnlineUserWindow=!0},openLineUploadWindow:function(){this.fileList=[],this.uploadWindow=!0,this.action=n.a.url.etOnlineUserInfo.uploadFile+"?pmId="+this.$parent.getProjectId()+"&operator="+this.$parent.getUserId()},onlineAddOrModify:function(e){var t=this,o={id:this.etOnlineUserForm.workId,userCode:this.etOnlineUserForm.userCode,cName:this.etOnlineUserForm.cName,roleName:this.etOnlineUserForm.roleName,responseDept:this.etOnlineUserForm.responseDept,responseSite:this.etOnlineUserForm.responseSite,telephone:this.etOnlineUserForm.telephone,wechatNo:this.etOnlineUserForm.wechatNo,lodging:this.etOnlineUserForm.lodging,email:this.etOnlineUserForm.email,pmId:this.$parent.getProjectId(),cId:this.$parent.getContractId(),operator:this.$parent.getUserId()};this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;n.a.post(n.a.url.etOnlineUserInfo.addOrModify,o).then(function(e){(e.status="success")&&t.refreshPage()}),t.etOnlineUserWindow=!1})},deleteEtOnlineUsetInfoDetails:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.a.post(n.a.url.etOnlineUserInfo.deleteUser,{id:e}).then(function(e){"success"==e.status&&(t.$message({type:"success",message:"删除成功!"}),t.refreshPage())})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},downloadExcelLineUser:function(){window.open(n.a.url.etOnlineUserInfo.exportExcel+"?pmId="+this.$parent.getProjectId())},confirmOnLineUser:function(){var e=this,t=this.$parent.getProjectId(),o=this.$parent.getUserId();this.$confirm("此操作是用来确定上线支持人员工作完成，是否确定完成?","提示",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){n.a.post(n.a.url.etOnlineUserInfo.confirmUser,{pmId:t,operator:o}).then(function(t){"success"==t.status&&(e.$message({type:"success",message:"确认完成!"}),e.onlineActive=!0,e.getProductInfo())})}).catch(function(){e.$message({type:"info",message:"已取消确认"})})},uploadSeccess:function(e){"success"==e.status?(this.fileList=[],this.uploadWindow=!1,this.refreshPage()):this.$message.warning(e.msg)},handleRemove:function(e,t){},handlePreview:function(e){console.log(e,fileList)},handleExceed:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件")},beforeRemove:function(e,t){return this.$confirm("确定移除 "+e.name+"？")},handleSizeChange:function(e){this.pageSize=e,this.refreshPage()},handleCurrentChange:function(e){this.currentPage=e,this.refreshPage()},refreshPage:function(){"zero"==this.activeName?this.getDepartInfo():"first"==this.activeName?this.getWorkerInfo():"second"==this.activeName?this.getProductInfo():"third"==this.activeName?this.getInerfaceInfo():"fifth"==this.activeName?this.implementationPathInfo():"sixth"==this.activeName?this.getEtUserInfo():"seventh"==this.activeName&&(this.checkOnlineUserWork(),this.getEtOnlineUserInfo())},getDictLabel:function(e,t){for(var o=0;o<e.length;o++)if(e[o].dictV==t)return e[o].dictLabel}}},c={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"information"},[o("div",{directives:[{name:"show",rawName:"v-show",value:e.formShrink,expression:"formShrink"}],staticClass:"project-result"},[o("dl",{staticClass:"clearfix"},[o("dt",[o("span",[e._v(e._s(e.projectForm.id))]),e._v(e._s(e.projectForm.pmName))]),e._v(" "),o("dd",[e._v(e._s(e.projectForm.pmCode))]),e._v(" "),o("dd",[e._v(e._s(e.projectForm.locationLabel))]),e._v(" "),o("dd",[e._v(e._s(e.projectForm.hopitalLabel))]),e._v(" "),o("dd",[o("i",{staticClass:"iconfont icon-spec-type"}),e._v(e._s(e.projectForm.junior))]),e._v(" "),o("dd",[o("i",{staticClass:"iconfont icon-feat-room"}),e._v(e._s(e.projectForm.feature))]),e._v(" "),o("dd",[o("i",{staticClass:"iconfont icon-clinic"}),e._v(e._s(e.projectForm.outpatient))]),e._v(" "),o("dd",[o("i",{staticClass:"iconfont icon-bed-number"}),e._v(e._s(e.projectForm.bed))]),e._v(" "),o("dd",{staticClass:"open",on:{click:function(t){e.formShrink=!1,e.formOpen=!0}}},[o("i",{staticClass:"iconfont icon-edit"})])])]),e._v(" "),o("transition",{attrs:{enterActiveClass:"animated bounceInLeft"}},[o("div",{directives:[{name:"show",rawName:"v-show",value:e.formOpen,expression:"formOpen"}],staticClass:"project-form"},[o("el-form",{ref:"projectForm",attrs:{model:e.projectForm,"label-width":"80px",size:"medium"}},[o("el-row",[o("el-col",{attrs:{md:16,lg:16}},[o("el-form-item",{attrs:{label:"项目名称"}},[o("el-input",{model:{value:e.projectForm.pmName,callback:function(t){e.$set(e.projectForm,"pmName",t)},expression:"projectForm.pmName"}},[o("template",{slot:"prepend"},[e._v(e._s(e.projectForm.pmCode))])],2)],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{md:16,lg:16}},[o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{md:12,lg:12}},[o("el-form-item",{attrs:{label:"客户名称"}},[o("el-input",{model:{value:e.projectForm.custom,callback:function(t){e.$set(e.projectForm,"custom",t)},expression:"projectForm.custom"}})],1)],1),e._v(" "),o("el-col",{attrs:{md:12,lg:12}},[o("el-form-item",{attrs:{label:"所在地区"}},[o("el-select",{attrs:{clearable:"",filterable:"",placeholder:"所在地区"},model:{value:e.projectForm.location,callback:function(t){e.$set(e.projectForm,"location",t)},expression:"projectForm.location"}},e._l(e.areaData,function(e){return o("el-option",{key:e.dictSort,attrs:{label:e.dictLabel,value:e.dictV}})}))],1)],1)],1)],1),e._v(" "),o("el-col",{attrs:{md:7,lg:7}},[o("el-form-item",{attrs:{label:"医院等级"}},[o("el-select",{attrs:{clearable:"",filterable:"",placeholder:"医院等级"},model:{value:e.projectForm.hopital,callback:function(t){e.$set(e.projectForm,"hopital",t)},expression:"projectForm.hopital"}},e._l(e.hopitalData,function(e){return o("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictV}})}))],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{md:16,lg:16}},[o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{md:12,lg:12}},[o("el-form-item",{attrs:{label:"专科类型"}},[o("el-input",{model:{value:e.projectForm.junior,callback:function(t){e.$set(e.projectForm,"junior",t)},expression:"projectForm.junior"}})],1)],1),e._v(" "),o("el-col",{attrs:{md:12,lg:12}},[o("el-form-item",{attrs:{label:"特色科室"}},[o("el-input",{model:{value:e.projectForm.feature,callback:function(t){e.$set(e.projectForm,"feature",t)},expression:"projectForm.feature"}})],1)],1)],1)],1),e._v(" "),o("el-col",{attrs:{md:7,lg:7}},[o("el-form-item",{attrs:{label:"门诊量"}},[o("el-input",{model:{value:e.projectForm.outpatient,callback:function(t){e.$set(e.projectForm,"outpatient",e._n(t))},expression:"projectForm.outpatient"}},[o("template",{slot:"append"},[e._v("人次/天")])],2)],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{md:8,lg:8}},[o("el-form-item",{attrs:{label:"床位数"}},[o("el-input",{model:{value:e.projectForm.bed,callback:function(t){e.$set(e.projectForm,"bed",e._n(t))},expression:"projectForm.bed"}},[o("template",{slot:"append"},[e._v("床")])],2)],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{staticStyle:{"text-align":"right"},attrs:{md:23,lg:23}},[o("el-button",{attrs:{size:"medium"},on:{click:e.closeMethod}},[e._v("取消\n            ")]),e._v(" "),o("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.saveData}},[e._v("保存\n            ")])],1)],1)],1),e._v(" "),o("div",{staticClass:"split-line"})],1)]),e._v(" "),o("div",{staticClass:"project-table"},[o("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.tabSwitch},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[o("el-tab-pane",{attrs:{label:"医院科室录入",name:"zero"}},[o("div",{staticClass:"w-table"},[o("div",{staticClass:"w-table-btn"},[o("span",{on:{click:e.openDepartWindow}},[o("i",{staticClass:"iconfont icon-new-add"}),e._v("新增")]),e._v(" "),o("span",{on:{click:e.openDeptUploadWindow}},[o("i",{staticClass:"iconfont icon-to-lead"}),e._v("导入")]),e._v(" "),o("span",{on:{click:e.downDepartloadExcel}},[o("i",{staticClass:"iconfont icon-export"}),e._v("导出")])]),e._v(" "),o("div",{staticClass:"w-table-content"},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.deptInfo}},[o("el-table-column",{attrs:{prop:"typeName",label:"科室分类"}}),e._v(" "),o("el-table-column",{attrs:{prop:"deptCode",label:"科室编码"}}),e._v(" "),o("el-table-column",{attrs:{prop:"deptName",label:"科室名称"}}),e._v(" "),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{staticClass:"operate"},[o("i",{staticClass:"iconfont icon-edit",on:{click:function(o){e.openDeptDetails(t.row)}}}),e._v(" "),o("i",{staticClass:"iconfont icon-delete",on:{click:function(o){e.deleteDeptRow(t.row.id)}}})])]}}])})],1)],1),e._v(" "),o("div",{staticClass:"w-table-page"},[o("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])]),e._v(" "),o("el-tab-pane",{attrs:{label:"医院职工录入",name:"first"}},[o("div",{staticClass:"w-table"},[o("div",{staticClass:"w-table-btn"},[o("span",{on:{click:e.openWorkinfoWindow}},[o("i",{staticClass:"iconfont icon-new-add"}),e._v("新增")]),e._v(" "),o("span",{on:{click:e.openUploadWindow}},[o("i",{staticClass:"iconfont icon-to-lead"}),e._v("导入")]),e._v(" "),o("span",{on:{click:e.downloadExcel}},[o("i",{staticClass:"iconfont icon-export"}),e._v("导出")])]),e._v(" "),o("div",{staticClass:"w-table-content"},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.workerInfo}},[o("el-table-column",{attrs:{prop:"userid",label:"工号"}}),e._v(" "),o("el-table-column",{attrs:{prop:"yhmc",label:"姓名"}}),e._v(" "),o("el-table-column",{attrs:{prop:"clo1",label:"部门"}}),e._v(" "),o("el-table-column",{attrs:{prop:"clo2",label:"角色"}}),e._v(" "),o("el-table-column",{attrs:{prop:"mobile",label:"电话",width:"180"}}),e._v(" "),o("el-table-column",{attrs:{prop:"email",label:"邮箱"}}),e._v(" "),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{staticClass:"operate"},[o("i",{staticClass:"iconfont icon-edit",on:{click:function(o){e.openDetails(t.row)}}}),e._v(" "),o("i",{staticClass:"iconfont icon-delete",on:{click:function(o){e.deleteRow(t.row.id)}}})])]}}])})],1)],1),e._v(" "),o("div",{staticClass:"w-table-page"},[o("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])]),e._v(" "),o("el-tab-pane",{attrs:{label:"合同/任务单",name:"second"}},[o("div",{staticClass:"w-table"},[o("div",{staticClass:"w-table-btn"},[o("span",{on:{click:e.addTask}},[o("i",{staticClass:"iconfont icon-new-add"}),e._v("新增")]),e._v(" "),o("span",{on:{click:e.downloadTask}},[o("i",{staticClass:"iconfont icon-export"}),e._v("导出")])]),e._v(" "),o("div",{staticClass:"w-table-content"},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.taskList}},[o("el-table-column",{attrs:{prop:"zxtmc",label:"产品名称"}}),e._v(" "),o("el-table-column",{attrs:{prop:"cpmc",label:"模块名称"}}),e._v(" "),o("el-table-column",{attrs:{prop:"mx",label:"明细"}}),e._v(" "),o("el-table-column",{attrs:{prop:"bz",label:"备注"}}),e._v(" "),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{directives:[{name:"show",rawName:"v-show",value:e.showCol(t.row),expression:"showCol(scope.row)"}],staticClass:"operate"},[o("i",{staticClass:"iconfont icon-edit",on:{click:function(o){e.editTask(t.row)}}}),e._v(" "),o("i",{staticClass:"iconfont icon-delete",on:{click:function(o){e.deleteTask(t.row.id)}}})])]}}])})],1)],1),e._v(" "),o("div",{staticClass:"w-table-page"},[o("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])]),e._v(" "),o("el-tab-pane",{attrs:{label:"接口对应系统",name:"third"}},[o("div",{staticClass:"w-table"},[o("div",{staticClass:"w-table-btn"},[o("span",{class:{active:e.isActive},on:{click:e.confirmContractTask}},[o("i",{staticClass:"iconfont icon-conf-complete"}),e._v("确认完成")]),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:!e.isActive,expression:"!isActive"}],on:{click:function(t){e.openInterfaceInfoWindow(0)}}},[o("i",{staticClass:"iconfont icon-new-add"}),e._v("新增")]),e._v(" "),o("span",{on:{click:e.downloadInterfaceInfo}},[o("i",{staticClass:"iconfont icon-export"}),e._v("导出")])]),e._v(" "),o("div",{staticClass:"w-table-content"},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.interfaceInfoData}},[o("el-table-column",{attrs:{prop:"productName",label:"产品名称"}}),e._v(" "),o("el-table-column",{attrs:{prop:"interfaceName",label:"模块名称"}}),e._v(" "),o("el-table-column",{attrs:{prop:"moduleDetail",label:"明细"}}),e._v(" "),o("el-table-column",{attrs:{prop:"remark",label:"备注"}}),e._v(" "),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{directives:[{name:"show",rawName:"v-show",value:e.showOperation(t.row),expression:"showOperation(scope.row)"}],staticClass:"operate"},[o("i",{staticClass:"iconfont icon-edit",on:{click:function(o){e.openInterfaceInfoWindow(t.row)}}}),e._v(" "),o("i",{staticClass:"iconfont icon-delete",on:{click:function(o){e.deleteInterfaceInfo(t.row.id)}}})])]}}])})],1)],1),e._v(" "),o("div",{staticClass:"w-table-page"},[o("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])]),e._v(" "),o("el-dialog",{attrs:{title:e.title,width:"30%",visible:e.interfaceInfoWindow},on:{"update:visible":function(t){e.interfaceInfoWindow=t}}},[o("el-form",{ref:"interfaceInfoForm",attrs:{model:e.interfaceInfoForm,rules:e.interfaceInfoRules}},[o("el-form-item",{attrs:{label:"产品名称","label-width":"80px",prop:"productName",required:""}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.interfaceInfoForm.productName,callback:function(t){e.$set(e.interfaceInfoForm,"productName",t)},expression:"interfaceInfoForm.productName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"模块名称","label-width":"80px",prop:"interfaceName"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.interfaceInfoForm.interfaceName,callback:function(t){e.$set(e.interfaceInfoForm,"interfaceName",t)},expression:"interfaceInfoForm.interfaceName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"模块明细","label-width":"80px",prop:"moduleDetail"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.interfaceInfoForm.moduleDetail,callback:function(t){e.$set(e.interfaceInfoForm,"moduleDetail",t)},expression:"interfaceInfoForm.moduleDetail"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"备注信息","label-width":"80px",prop:"remark"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.interfaceInfoForm.remark,callback:function(t){e.$set(e.interfaceInfoForm,"remark",t)},expression:"interfaceInfoForm.remark"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.interfaceInfoWindow=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addOrModifyInterfaceInfo("interfaceInfoForm")}}},[e._v("确 定")])],1)],1),e._v(" "),o("el-tab-pane",{attrs:{label:"实施路径",name:"fifth"}},[o("div",{staticClass:"w-table"},[o("div",{staticClass:"w-table-btn"},[o("span",{on:{click:e.downloadimplPathInfo}},[o("i",{staticClass:"iconfont icon-export"}),e._v("导出")])]),e._v(" "),o("div",{staticClass:"w-table-content"},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.implePath}},[o("el-table-column",{attrs:{prop:"milepost",label:"里程碑"}}),e._v(" "),o("el-table-column",{attrs:{prop:"mainStep",label:"主要阶段"}}),e._v(" "),o("el-table-column",{attrs:{prop:"stepType",label:"阶段工作分类"}}),e._v(" "),o("el-table-column",{attrs:{prop:"stepContent",label:"主要工作内容"}}),e._v(" "),o("el-table-column",{attrs:{prop:"stepDesc",label:"具体工作项",width:"180"}}),e._v(" "),o("el-table-column",{attrs:{prop:"stepOutput",label:"对应产出物"}}),e._v(" "),o("el-table-column",{attrs:{prop:"remark",label:"备注"}})],1)],1),e._v(" "),o("div",{staticClass:"w-table-page"},[o("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])]),e._v(" "),o("el-tab-pane",{attrs:{label:"项目组信息",name:"sixth"}},[o("div",{staticClass:"w-table"},[o("div",{staticClass:"w-table-btn"},[o("span",{class:{active:e.isUserActive},on:{click:e.doUserConfirm}},[o("i",{staticClass:"iconfont icon-conf-complete"}),e._v("确认完成")]),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:!e.isUserActive,expression:"!isUserActive"}],on:{click:e.openEtUserInfoWindow}},[o("i",{staticClass:"iconfont icon-new-add"}),e._v("新增")]),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:!e.isUserActive,expression:"!isUserActive"}],on:{click:e.openUploadEtUserInfoWindow}},[o("i",{staticClass:"iconfont icon-to-lead"}),e._v("导入")]),e._v(" "),o("span",{on:{click:e.downloadExcelEtUserInfo}},[o("i",{staticClass:"iconfont icon-export"}),e._v("导出")])]),e._v(" "),o("div",{staticClass:"w-table-content"},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.etUserInfo}},[o("el-table-column",{attrs:{prop:"map.userType",label:"成员属性"}}),e._v(" "),o("el-table-column",{attrs:{prop:"userCard",label:"工号"}}),e._v(" "),o("el-table-column",{attrs:{prop:"cName",label:"姓名"}}),e._v(" "),o("el-table-column",{attrs:{prop:"orgName",label:"部门"}}),e._v(" "),o("el-table-column",{attrs:{prop:"map.positionName",label:"职务"}}),e._v(" "),o("el-table-column",{attrs:{prop:"telephone",label:"电话",width:"180"}}),e._v(" "),o("el-table-column",{attrs:{prop:"email",label:"邮箱"}}),e._v(" "),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{directives:[{name:"show",rawName:"v-show",value:-1!=t.row.isDel,expression:"scope.row.isDel != -1"}],staticClass:"operate"},[o("i",{staticClass:"iconfont icon-edit",on:{click:function(o){e.openEtUsetInfoDetails(t.row)}}}),e._v(" "),o("i",{staticClass:"iconfont icon-delete",on:{click:function(o){e.deleteEtUsetInfoDetails(t.row.id)}}})])]}}])})],1)],1),e._v(" "),o("div",{staticClass:"w-table-page"},[o("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])])],1)],1),e._v(" "),o("el-dialog",{attrs:{title:e.title,width:"35%",visible:e.deptInforWindow},on:{"update:visible":function(t){e.deptInforWindow=t}}},[o("el-form",{ref:"deptForm",attrs:{model:e.deptForm,rules:e.deptRules}},[o("el-form-item",{attrs:{label:"科室类别","label-width":"120px",prop:"typeName",required:""}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.deptForm.typeName,callback:function(t){e.$set(e.deptForm,"typeName",t)},expression:"deptForm.typeName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"科室名称","label-width":"120px",prop:"deptName",required:""}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.deptForm.deptName,callback:function(t){e.$set(e.deptForm,"deptName",t)},expression:"deptForm.deptName"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.deptInforWindow=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.deptAddorModify("deptForm")}}},[e._v("确 定")])],1)],1),e._v(" "),o("el-dialog",{attrs:{title:e.title,width:"30%",visible:e.workderInforWindow},on:{"update:visible":function(t){e.workderInforWindow=t}}},[o("el-form",{ref:"workForm",attrs:{model:e.workForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"工号","label-width":"60px",prop:"userid",required:""}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.workForm.userid,callback:function(t){e.$set(e.workForm,"userid",t)},expression:"workForm.userid"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"姓名","label-width":"60px",prop:"yhmc",required:""}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.workForm.yhmc,callback:function(t){e.$set(e.workForm,"yhmc",t)},expression:"workForm.yhmc"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"部门","label-width":"60px",prop:"clo1",required:""}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.workForm.clo1,callback:function(t){e.$set(e.workForm,"clo1",t)},expression:"workForm.clo1"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"角色","label-width":"60px",prop:"clo2",required:""}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.workForm.clo2,callback:function(t){e.$set(e.workForm,"clo2",t)},expression:"workForm.clo2"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"电话","label-width":"60px",prop:"mobile"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.workForm.mobile,callback:function(t){e.$set(e.workForm,"mobile",t)},expression:"workForm.mobile"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"邮箱","label-width":"60px",prop:"email"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.workForm.email,callback:function(t){e.$set(e.workForm,"email",t)},expression:"workForm.email"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.workderInforWindow=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addOrModify("workForm")}}},[e._v("确 定")])],1)],1),e._v(" "),o("el-dialog",{attrs:{title:e.title,width:"30%",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[o("el-form-item",{attrs:{label:"产品名称","label-width":e.formLabelWidth,required:""}},[o("el-autocomplete",{attrs:{size:"max","fetch-suggestions":e.querySearchAsync,placeholder:"请输入产品名称","trigger-on-focus":!1},on:{select:e.handleSelect},model:{value:e.form.product,callback:function(t){e.$set(e.form,"product",t)},expression:"form.product"}},[o("i",{staticClass:"el-input__icon el-icon-close",attrs:{slot:"suffix"},on:{click:function(t){e.form.product=""}},slot:"suffix"})])],1),e._v(" "),o("el-form-item",{attrs:{label:"模块名称","label-width":e.formLabelWidth,required:""}},[o("el-autocomplete",{attrs:{size:"max","fetch-suggestions":e.queryModelAsync,placeholder:"请输入模块名称","trigger-on-focus":!1},on:{select:e.handleModel},model:{value:e.form.model,callback:function(t){e.$set(e.form,"model",t)},expression:"form.model"}},[o("i",{staticClass:"el-input__icon el-icon-close",attrs:{slot:"suffix"},on:{click:function(t){e.form.model=""}},slot:"suffix"})])],1),e._v(" "),o("el-form-item",{attrs:{label:"模块明细","label-width":e.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.detail,callback:function(t){e.$set(e.form,"detail",t)},expression:"form.detail"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"备注信息","label-width":e.formLabelWidth}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.form.note,callback:function(t){e.$set(e.form,"note",t)},expression:"form.note"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addOrModifyProduct("form")}}},[e._v("确 定")])],1)],1),e._v(" "),o("el-dialog",{attrs:{title:e.title,width:"30%",visible:e.etUserInoFormWindow},on:{"update:visible":function(t){e.etUserInoFormWindow=t}}},[o("el-form",{ref:"etUserInoForm",attrs:{model:e.etUserInoForm,rules:e.etUserRoles}},[o("el-form-item",{attrs:{label:"成员属性","label-width":"80px",prop:"userType",required:""}},[o("el-select",{attrs:{clearable:"",filterable:"",placeholder:"成员属性"},on:{change:e.userTypeChange},model:{value:e.etUserInoForm.userType,callback:function(t){e.$set(e.etUserInoForm,"userType",t)},expression:"etUserInoForm.userType"}},e._l(e.userTypeData,function(e){return o("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),o("el-form-item",{attrs:{label:"工号","label-width":"60px",prop:"userCard",required:""}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.etUserInoForm.userCard,callback:function(t){e.$set(e.etUserInoForm,"userCard",t)},expression:"etUserInoForm.userCard"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"姓名","label-width":"60px",prop:"cName",required:""}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.etUserInoForm.cName,callback:function(t){e.$set(e.etUserInoForm,"cName",t)},expression:"etUserInoForm.cName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"部门","label-width":"60px",prop:"orgName",required:""}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.etUserInoForm.orgName,callback:function(t){e.$set(e.etUserInoForm,"orgName",t)},expression:"etUserInoForm.orgName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"职务","label-width":"60px",prop:"positionName",required:""}},[e.userTypeValue?o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.etUserInoForm.positionName,callback:function(t){e.$set(e.etUserInoForm,"positionName",t)},expression:"etUserInoForm.positionName"}}):e._e(),e._v(" "),e.userTypeValue?e._e():o("el-select",{attrs:{clearable:"",filterable:"",placeholder:"职务"},model:{value:e.etUserInoForm.positionName,callback:function(t){e.$set(e.etUserInoForm,"positionName",t)},expression:"etUserInoForm.positionName"}},e._l(e.positionTypeData,function(e){return o("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),o("el-form-item",{attrs:{label:"电话","label-width":"60px",prop:"telephone"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.etUserInoForm.telephone,callback:function(t){e.$set(e.etUserInoForm,"telephone",t)},expression:"etUserInoForm.telephone"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"邮箱","label-width":"60px",prop:"email"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.etUserInoForm.email,callback:function(t){e.$set(e.etUserInoForm,"email",t)},expression:"etUserInoForm.email"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.etUserInoFormWindow=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.userAddOrModify("etUserInoForm")}}},[e._v("确 定")])],1)],1),e._v(" "),o("el-dialog",{attrs:{title:e.title,width:"30%",visible:e.etOnlineUserWindow},on:{"update:visible":function(t){e.etOnlineUserWindow=t}}},[o("el-form",{ref:"etOnlineUserForm",attrs:{model:e.etOnlineUserForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"工号","label-width":"60px",prop:"userCode",required:""}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.etOnlineUserForm.userCode,callback:function(t){e.$set(e.etOnlineUserForm,"userCode",t)},expression:"etOnlineUserForm.userCode"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"姓名","label-width":"60px",prop:"cName",required:""}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.etOnlineUserForm.cName,callback:function(t){e.$set(e.etOnlineUserForm,"cName",t)},expression:"etOnlineUserForm.cName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"部门","label-width":"60px",prop:"responseDept",required:""}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.etOnlineUserForm.responseDept,callback:function(t){e.$set(e.etOnlineUserForm,"responseDept",t)},expression:"etOnlineUserForm.responseDept"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"角色","label-width":"60px",prop:"roleName",required:""}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.etOnlineUserForm.roleName,callback:function(t){e.$set(e.etOnlineUserForm,"roleName",t)},expression:"etOnlineUserForm.roleName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"站点","label-width":"60px",prop:"responseSite",required:""}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.etOnlineUserForm.responseSite,callback:function(t){e.$set(e.etOnlineUserForm,"responseSite",t)},expression:"etOnlineUserForm.responseSite"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"微信号","label-width":"70px",prop:"wechatNo",required:""}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.etOnlineUserForm.wechatNo,callback:function(t){e.$set(e.etOnlineUserForm,"wechatNo",t)},expression:"etOnlineUserForm.wechatNo"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"电话","label-width":"60px",prop:"telephone",required:""}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.etOnlineUserForm.telephone,callback:function(t){e.$set(e.etOnlineUserForm,"telephone",t)},expression:"etOnlineUserForm.telephone"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"邮箱","label-width":"60px",prop:"email",required:""}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.etOnlineUserForm.email,callback:function(t){e.$set(e.etOnlineUserForm,"email",t)},expression:"etOnlineUserForm.email"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"住宿信息","label-width":"80px",prop:"lodging",required:""}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.etOnlineUserForm.lodging,callback:function(t){e.$set(e.etOnlineUserForm,"lodging",t)},expression:"etOnlineUserForm.lodging"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.workderInforWindow=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onlineAddOrModify("etOnlineUserForm")}}},[e._v("确 定")])],1)],1),e._v(" "),o("el-dialog",{attrs:{title:"文件上传",width:"30%",visible:e.uploadWindow},on:{"update:visible":function(t){e.uploadWindow=t}}},[o("el-upload",{staticClass:"upload-demo",attrs:{action:e.action,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"on-success":e.uploadSeccess,"before-remove":e.beforeRemove,multiple:"",limit:1,"on-exceed":e.handleExceed,"file-list":e.fileList}},[o("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),e._v(" "),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传xls/xlsx文件，且不超过500kb")])],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.uploadWindow=!1}}},[e._v("取 消")])],1)],1)],1)},staticRenderFns:[]};var m=o("Z0/y")(l,c,!1,function(e){o("EnqD")},"data-v-541986f5",null);t.default=m.exports}});
//# sourceMappingURL=1.74af50a91fd0ec995df3.js.map