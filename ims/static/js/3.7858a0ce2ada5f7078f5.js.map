{"version":3,"sources":["webpack:///src/views/project-startup/test-hardware.vue","webpack:///./src/views/project-startup/test-hardware.vue?0cfe","webpack:///./src/views/project-startup/test-hardware.vue"],"names":["test_hardware","required","message","trigger","uploadFile","setProjectInfo","getWorkerInfo","_this","this","getProjectId","pageSize","currentPage","rows","total","data","workForm","hwName","hwBrand","hwBrandModel","hwNum","hwUse","isScope","productName","toString","workId","id","_this2","then","_this3","getUserId","pmId","val","FileReader","file","fileList","response","msg","name","length","project_startup_test_hardware","render","_vm","_h","$createElement","_c","_self","staticClass","on","click","$event","openAddAndModifyWindow","_v","doUpload","downloadExcel","staticStyle","width","attrs","workerInfo","row-class-name","rowStyle","prop","label","align","scopedSlots","_u","key","fn","scope","_s","row","doDelete","current-page","page-sizes","page-size","layout","size-change","sizeChange","current-change","currentChange","title","visible","addAndModifyWindow","update:visible","ref","model","rules","label-width","auto-complete","value","callback","$$v","$set","expression","min","step","slot","type","addOrModify","uploadWindow","action","on-preview","handlePreview","on-remove","handleRemove","on-success","uploadSeccess","before-remove","beforeRemove","before-upload","beforeUpload","upLoadData","multiple","limit","on-exceed","handleExceed","file-list","size","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/3.7858a0ce2ada5f7078f5.js","sourcesContent":["<!--\r\n* @author: jinxl\r\n* @date: 2018/1/12\r\n* @module:合同/任务单\r\n-->\r\n<template>\r\n  <div class=\"testAndHardware\">\r\n    <div class=\"project-table\">\r\n      <!--接口对应系统-->\r\n      <div class=\"w-table\">\r\n        <div class=\"w-table-btn\">\r\n          <!--<span @click=\"doConfirm\"><i class=\"iconfont icon-conf-complete\"></i>确认完成</span>-->\r\n          <span @click=\"openAddAndModifyWindow(0)\"><i class=\"iconfont icon-new-add\"></i>新增</span>\r\n          <span @click=\"doUpload\"><i class=\"iconfont icon-to-lead\"></i>导入</span>\r\n          <span @click=\"downloadExcel\"><i class=\"iconfont icon-export\"></i>导出</span>\r\n        </div>\r\n        <el-table\r\n          :data=\"workerInfo\"\r\n          style=\"width: 100%\"\r\n          :row-class-name=\"rowStyle\">\r\n          <el-table-column\r\n            prop=\"productName\"\r\n            label=\"系统名称\"\r\n            align=\"center\">\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"hwName\"\r\n            label=\"硬件名称\">\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"hwBrand\"\r\n            label=\"推荐品牌\">\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"hwBrandModel\"\r\n            label=\"推荐型号\">\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"hwNum\"\r\n            label=\"数量\">\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"hwUse\"\r\n            label=\"用途\">\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"isScope\"\r\n            label=\"是否本期范围\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{scope.row.isScope==0?'否':'是'}}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            label=\"操作\">\r\n            <template slot-scope=\"scope\">\r\n              <i class=\"iconfont icon-edit\" @click=\"openAddAndModifyWindow(scope.row)\"></i>\r\n              <i class=\"iconfont icon-delete\" @click=\"doDelete(scope.row.id)\"></i>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <div class=\"w-table-page\">\r\n          <el-pagination\r\n            @size-change=\"sizeChange\"\r\n            @current-change=\"currentChange\"\r\n            :current-page=\"currentPage\"\r\n            :page-sizes=\"[10, 20, 30, 40]\"\r\n            :page-size=\"100\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            :total=\"total\">\r\n          </el-pagination>\r\n        </div>\r\n      </div>\r\n      <!--新增和编辑接口信息弹窗-->\r\n      <el-dialog :title=\"title\" width=\"30%\" :visible.sync=\"addAndModifyWindow\">\r\n        <el-form :model=\"workForm\" :rules=\"rules\" ref=\"workForm\">\r\n          <el-form-item label=\"系统名称\" label-width=\"80px\" prop=\"productName\" required>\r\n            <el-input v-model=\"workForm.productName\" auto-complete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"硬件名称\" label-width=\"80px\" prop=\"hwName\" required>\r\n            <el-input v-model=\"workForm.hwName\" auto-complete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"推荐品牌\" label-width=\"80px\" prop=\"hwBrand\" required>\r\n            <el-input v-model=\"workForm.hwBrand\" auto-complete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"推荐型号\" label-width=\"80px\" prop=\"hwBrandModel\" required>\r\n            <el-input v-model=\"workForm.hwBrandModel\" auto-complete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"数量\" label-width=\"80px\" prop=\"hwNum\" required>\r\n            <el-input-number v-model=\"workForm.hwNum\" :min=\"1\" :step=\"1\"></el-input-number>\r\n          </el-form-item>\r\n          <el-form-item label=\"用途\" label-width=\"80px\" prop=\"hwUse\" required>\r\n            <el-input v-model=\"workForm.hwUse\" auto-complete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"本期范围\" label-width=\"80px\" prop=\"isScope\" required>\r\n            <el-radio v-model=\"workForm.isScope\" label=\"1\">是</el-radio>\r\n            <el-radio v-model=\"workForm.isScope\" label=\"0\">否</el-radio>\r\n          </el-form-item>\r\n        </el-form>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"addAndModifyWindow = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"addOrModify('workForm')\">确 定</el-button>\r\n        </div>\r\n      </el-dialog>\r\n\r\n\r\n      <!--文件上传弹窗-->\r\n      <el-dialog title=\"文件上传\" width=\"30%\" :visible.sync=\"uploadWindow\">\r\n        <el-upload\r\n          class=\"upload-demo\"\r\n          :action=\"action\"\r\n          :on-preview=\"handlePreview\"\r\n          :on-remove=\"handleRemove\"\r\n          :on-success=\"uploadSeccess\"\r\n          :before-remove=\"beforeRemove\"\r\n          :before-upload=\"beforeUpload\"\r\n          :data=\"upLoadData\"\r\n          multiple\r\n          :limit=\"1\"\r\n          :on-exceed=\"handleExceed\"\r\n          :file-list=\"fileList\">\r\n          <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n          <div slot=\"tip\" class=\"el-upload__tip\">只能上传xls/xlsx文件，且不超过500kb</div>\r\n        </el-upload>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"uploadWindow = false\">取 消</el-button>\r\n        </div>\r\n      </el-dialog>\r\n\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n<!--JavaScript-->\r\n<script>\r\n  import api from '../../../api/api'\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        formOpen: true,\r\n        title: '新增',\r\n        uploadWindow: false,//导入弹窗默认关闭\r\n        workId: 0,\r\n        interfaceInfoData: [],//接口信息\r\n        addAndModifyWindow: false,//默认影藏新增接口信息弹框\r\n        upLoadData: {//上传文件时传递的参数\r\n          pmId: \"\",//项目id\r\n          operator: \"\"//操作人\r\n        },\r\n        fileList:[],//上传文件集合\r\n        workForm: {//接口信息表单\r\n          productName: \"\",\r\n          hwName: \"\",\r\n          hwBrand: \"\",\r\n          hwBrandModel: \"\",\r\n          hwNum: 1,\r\n          hwUse: \"\",\r\n          isScope: \"\"\r\n        },\r\n        rules: {\r\n          productName: [\r\n            {required: true, message: '请输入接口名称', trigger: 'blur'},\r\n            // {min: 3, max: 10, message: '长度在 3 到 10 个字符', trigger: 'blur'}\r\n          ],\r\n          hwName: [\r\n            {required: true, message: '请输入硬件名称', trigger: 'blur'},\r\n          ],\r\n          hwBrand: [\r\n            {required: true, message: '请输入推荐品牌', trigger: 'blur'},\r\n          ],\r\n          hwBrandModel: [\r\n            {required: true, message: '请输入推荐型号', trigger: 'blur'},\r\n          ],\r\n          hwUse: [\r\n            {required: true, message: '请输入用途', trigger: 'blur'},\r\n          ],\r\n          isScope: [\r\n            {required: true, message: '请选择本期范围', trigger: 'blur'},\r\n          ],\r\n        },\r\n        action: api.url.devEnvHardware.uploadFile,\r\n        workerInfo: [],\r\n        uploadForm: {\r\n          uploadFile: ''\r\n        },\r\n        pageSize: 10,\r\n        total: 100,\r\n        currentPage: 1,\r\n        dialogFormVisible: false,\r\n        formLabelWidth: '120px',\r\n      }\r\n    },\r\n    created() {\r\n      this.$parent.setSelectDisable(true);\r\n      this.$parent.setProjectInfo();\r\n      this.$nextTick(function () {\r\n        this.getWorkerInfo();\r\n      })\r\n    },\r\n    methods: {\r\n      //获取测试硬件数据\r\n      getWorkerInfo: function () {\r\n        var pmId = this.$parent.getProjectId();\r\n        var pageSize = this.pageSize;\r\n        var currentPage = this.currentPage;\r\n        var first = (currentPage - 1) * pageSize;\r\n        api.post(api.url.devEnvHardware.initData, {'first': first, 'count': pageSize, 'pmId': pmId}).then((data) => {\r\n          if (data.status == 'success') {\r\n            this.workerInfo = data.rows;\r\n            this.total = data.total;\r\n          }\r\n        });\r\n      },\r\n      //表格行样式回调方法\r\n      rowStyle: function (row, rowIndex) {\r\n        if (row.row.isScope === 1) {\r\n          return 'default-row-class';\r\n        } else {\r\n          return 'invalid-row-class';\r\n        }\r\n      },\r\n      //打开编辑弹出框\r\n      openAddAndModifyWindow: function (data) {\r\n        console.info(data);\r\n        if (data == 0) {\r\n          this.workForm.productName = \"\",\r\n            this.workForm.hwName = \"\",\r\n            this.workForm.hwBrand = \"\",\r\n            this.workForm.hwBrandModel = \"\",\r\n            this.workForm.hwNum = 1,\r\n            this.workForm.hwUse = \"\",\r\n            this.workForm.isScope = \"\"\r\n        } else {\r\n          this.workForm.productName = data.productName,\r\n            this.workForm.hwName = data.hwName,\r\n            this.workForm.hwBrand = data.hwBrand,\r\n            this.workForm.hwBrandModel = data.hwBrandModel,\r\n            this.workForm.hwNum = data.hwNum,\r\n            this.workForm.hwUse = data.hwUse,\r\n            this.workForm.isScope = data.isScope.toString(),\r\n            this.workId = data.id;\r\n        }\r\n        this.addAndModifyWindow = true;\r\n      },\r\n      doDelete: function (id) {\r\n        this.$confirm('删除本条数据?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          api.post(api.url.devEnvHardware.delete, {'id': id}).then((data) => {\r\n            if (data.status == \"success\") {\r\n              this.$message({type: 'success', message: '删除成功!'});\r\n              this.getWorkerInfo();\r\n            }\r\n          });\r\n        }).catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消删除'\r\n          });\r\n        });\r\n\r\n      },\r\n      //新增或编辑弹窗确定\r\n      addOrModify: function (formName) {\r\n        this.interfaceInfoWindow = true;\r\n        var json = {\r\n          id: this.workId,\r\n          pmId: this.$parent.getProjectId(),\r\n          productName: this.workForm.productName,\r\n          hwName: this.workForm.hwName,\r\n          hwBrand: this.workForm.hwBrand,\r\n          hwBrandModel: this.workForm.hwBrandModel,\r\n          hwNum: this.workForm.hwNum,\r\n          hwUse: this.workForm.hwUse,\r\n          isScope: this.workForm.isScope,\r\n          operator: this.$parent.getUserId()\r\n        };\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            api.post(api.url.devEnvHardware.addOrModify, json).then((data) => {\r\n              if (data.status = 'success') {\r\n                this.getWorkerInfo();\r\n              }\r\n            });\r\n            this.addAndModifyWindow = false;\r\n          } else {\r\n            console.log('error submit!!');\r\n            return false;\r\n          }\r\n        });\r\n      },\r\n      //导出EXCEL\r\n      downloadExcel: function () {\r\n        var pmId = this.$parent.getProjectId();\r\n        window.open(api.url.devEnvHardware.exportExcel + \"?pmId=\" + pmId);\r\n      },\r\n      sizeChange(val) {\r\n        console.log(`每页 ${val} 条`);\r\n        this.pageSize = val;\r\n        this.getWorkerInfo();\r\n      },\r\n      currentChange(val) {\r\n        console.log(`当前页: ${val}`);\r\n        this.currentPage = val;\r\n        this.getWorkerInfo();\r\n      },\r\n      //导入\r\n      doUpload: function () {\r\n        this.upLoadData.pmId = this.$parent.getProjectId();\r\n        this.upLoadData.operator = this.$parent.getUserId();\r\n        this.uploadWindow = true;\r\n      },\r\n      beforeUpload(file) {\r\n        var reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = function () {\r\n          // this.upLoadData.id = this.result;\r\n          // console.log(this.action);\r\n          // console.log(this.result);\r\n        };\r\n      },\r\n      handlePreview(file) {\r\n        console.log(file);\r\n      },\r\n      handleRemove(file, fileList) {\r\n        console.log(file, fileList);\r\n      },\r\n      uploadSeccess: function (response) {\r\n        console.log(response);\r\n        if (response.status == 'success') {\r\n          this.fileList = [];\r\n          this.uploadWindow = false;\r\n          this.getWorkerInfo();\r\n        } else {\r\n          this.$message.warning(response.msg);\r\n        }\r\n      },\r\n      beforeRemove(file, fileList) {\r\n        return this.$confirm(`确定移除 ${ file.name }？`);\r\n      },\r\n      handleExceed(files, fileList) {\r\n        this.$message.warning(`当前限制选择 1 个文件，本次选择了 ${files.length} 个文件，共选择了 ${files.length + fileList.length} 个文件`);\r\n      },\r\n    }\r\n  }\r\n\r\n</script>\r\n<!--CSS-PAGE-->\r\n<style lang=\"stylus\" scoped>\r\n  .testAndHardware {\r\n    /*height 100%*/\r\n  }\r\n\r\n  .project-result {\r\n    padding 25px 10px\r\n  }\r\n\r\n  .project-result dl > * {\r\n    float left\r\n    margin-right 15px\r\n  }\r\n\r\n  .project-result dt {\r\n    color #282828\r\n    font-size 16px\r\n  }\r\n\r\n  .project-result dt > span {\r\n    color #999\r\n  }\r\n\r\n  .project-result dd {\r\n    line-height 16px\r\n    color #6583ce\r\n    font-size 12px\r\n  }\r\n\r\n  .project-result dd.open {\r\n    cursor pointer\r\n  }\r\n\r\n  .project-result i {\r\n    float: left\r\n  }\r\n\r\n  .el-table .project-form {\r\n    margin-top 22px\r\n  }\r\n\r\n  .el-table .project-table {\r\n    padding 0px 14px\r\n  }\r\n\r\n  .default-row-class {\r\n    color black !important;\r\n    background #f0f9eb !important;\r\n  }\r\n\r\n  .invalid-row-class {\r\n    color: red !important;\r\n    background: #f0f9eb !important;\r\n  }\r\n\r\n</style>\r\n\r\n<style lang=\"stylus\">\r\n\r\n  .default-row-class {\r\n    color black;\r\n  }\r\n\r\n  .invalid-row-class {\r\n    color grey;\r\n  }\r\n\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/project-startup/test-hardware.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"testAndHardware\"},[_c('div',{staticClass:\"project-table\"},[_c('div',{staticClass:\"w-table\"},[_c('div',{staticClass:\"w-table-btn\"},[_c('span',{on:{\"click\":function($event){_vm.openAddAndModifyWindow(0)}}},[_c('i',{staticClass:\"iconfont icon-new-add\"}),_vm._v(\"新增\")]),_vm._v(\" \"),_c('span',{on:{\"click\":_vm.doUpload}},[_c('i',{staticClass:\"iconfont icon-to-lead\"}),_vm._v(\"导入\")]),_vm._v(\" \"),_c('span',{on:{\"click\":_vm.downloadExcel}},[_c('i',{staticClass:\"iconfont icon-export\"}),_vm._v(\"导出\")])]),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.workerInfo,\"row-class-name\":_vm.rowStyle}},[_c('el-table-column',{attrs:{\"prop\":\"productName\",\"label\":\"系统名称\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"hwName\",\"label\":\"硬件名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"hwBrand\",\"label\":\"推荐品牌\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"hwBrandModel\",\"label\":\"推荐型号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"hwNum\",\"label\":\"数量\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"hwUse\",\"label\":\"用途\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"isScope\",\"label\":\"是否本期范围\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.isScope==0?'否':'是'))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('i',{staticClass:\"iconfont icon-edit\",on:{\"click\":function($event){_vm.openAddAndModifyWindow(scope.row)}}}),_vm._v(\" \"),_c('i',{staticClass:\"iconfont icon-delete\",on:{\"click\":function($event){_vm.doDelete(scope.row.id)}}})]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"w-table-page\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[10, 20, 30, 40],\"page-size\":100,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.sizeChange,\"current-change\":_vm.currentChange}})],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.title,\"width\":\"30%\",\"visible\":_vm.addAndModifyWindow},on:{\"update:visible\":function($event){_vm.addAndModifyWindow=$event}}},[_c('el-form',{ref:\"workForm\",attrs:{\"model\":_vm.workForm,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"系统名称\",\"label-width\":\"80px\",\"prop\":\"productName\",\"required\":\"\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.workForm.productName),callback:function ($$v) {_vm.$set(_vm.workForm, \"productName\", $$v)},expression:\"workForm.productName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"硬件名称\",\"label-width\":\"80px\",\"prop\":\"hwName\",\"required\":\"\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.workForm.hwName),callback:function ($$v) {_vm.$set(_vm.workForm, \"hwName\", $$v)},expression:\"workForm.hwName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"推荐品牌\",\"label-width\":\"80px\",\"prop\":\"hwBrand\",\"required\":\"\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.workForm.hwBrand),callback:function ($$v) {_vm.$set(_vm.workForm, \"hwBrand\", $$v)},expression:\"workForm.hwBrand\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"推荐型号\",\"label-width\":\"80px\",\"prop\":\"hwBrandModel\",\"required\":\"\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.workForm.hwBrandModel),callback:function ($$v) {_vm.$set(_vm.workForm, \"hwBrandModel\", $$v)},expression:\"workForm.hwBrandModel\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"数量\",\"label-width\":\"80px\",\"prop\":\"hwNum\",\"required\":\"\"}},[_c('el-input-number',{attrs:{\"min\":1,\"step\":1},model:{value:(_vm.workForm.hwNum),callback:function ($$v) {_vm.$set(_vm.workForm, \"hwNum\", $$v)},expression:\"workForm.hwNum\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"用途\",\"label-width\":\"80px\",\"prop\":\"hwUse\",\"required\":\"\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.workForm.hwUse),callback:function ($$v) {_vm.$set(_vm.workForm, \"hwUse\", $$v)},expression:\"workForm.hwUse\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"本期范围\",\"label-width\":\"80px\",\"prop\":\"isScope\",\"required\":\"\"}},[_c('el-radio',{attrs:{\"label\":\"1\"},model:{value:(_vm.workForm.isScope),callback:function ($$v) {_vm.$set(_vm.workForm, \"isScope\", $$v)},expression:\"workForm.isScope\"}},[_vm._v(\"是\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"0\"},model:{value:(_vm.workForm.isScope),callback:function ($$v) {_vm.$set(_vm.workForm, \"isScope\", $$v)},expression:\"workForm.isScope\"}},[_vm._v(\"否\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addAndModifyWindow = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addOrModify('workForm')}}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"文件上传\",\"width\":\"30%\",\"visible\":_vm.uploadWindow},on:{\"update:visible\":function($event){_vm.uploadWindow=$event}}},[_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"action\":_vm.action,\"on-preview\":_vm.handlePreview,\"on-remove\":_vm.handleRemove,\"on-success\":_vm.uploadSeccess,\"before-remove\":_vm.beforeRemove,\"before-upload\":_vm.beforeUpload,\"data\":_vm.upLoadData,\"multiple\":\"\",\"limit\":1,\"on-exceed\":_vm.handleExceed,\"file-list\":_vm.fileList}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")]),_vm._v(\" \"),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传xls/xlsx文件，且不超过500kb\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.uploadWindow = false}}},[_vm._v(\"取 消\")])],1)],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5b0a4ff4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/project-startup/test-hardware.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5b0a4ff4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./test-hardware.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5b0a4ff4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./test-hardware.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./test-hardware.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./test-hardware.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5b0a4ff4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./test-hardware.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5b0a4ff4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/project-startup/test-hardware.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}