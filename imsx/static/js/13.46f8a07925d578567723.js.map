{"version":3,"sources":["webpack:///src/views/implement-work/easy-data-reference.vue","webpack:///./src/views/implement-work/easy-data-reference.vue?b0ba","webpack:///./src/views/implement-work/easy-data-reference.vue"],"names":["easy_data_reference","max","message","trigger","required","pattern","setProjectInfo","getWorkerInfo","event","name","_this","this","then","_this2","pageSize","currentPage","getProjectId","pmId","first","dataType","data","rows","total","process","val","_this3","id","tableName","cols","file","fileList","response","msg","length","workId","tableCnName","tableAttention","_this4","formName","tableCode","_this5","type","implement_work_easy_data_reference","render","_vm","_h","$createElement","_c","_self","staticClass","class","active","isActive","on","click","doConfirm","_v","staticStyle","width","attrs","workerInfo","prop","label","scopedSlots","_u","key","fn","scope","$event","getDetail","row","exportSql","current-page","page-sizes","page-size","layout","size-change","handleSizeChange","current-change","handleCurrentChange","title","lookTile","visible","look","update:visible","gridData","_l","col","index","property","slot","size","exportDataInfo","workderInforWindow","ref","model","workForm","rules","label-width","auto-complete","value","callback","$$v","$set","expression","addOrModify","uploadWindow","action","on-preview","handlePreview","on-remove","handleRemove","on-success","uploadSeccess","before-remove","beforeRemove","multiple","limit","on-exceed","handleExceed","file-list","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/13.46f8a07925d578567723.js","sourcesContent":["<!--\n* @author: jinxl\n* @date: 2018/3/13 0013\n* @module:基础数据维护\n-->\n<template>\n  <div class=\"base-data-maintain\">\n    <div class=\"tab\">\n      <!--易用数据-->\n      <div class=\"w-table\">\n        <div class=\"w-table-btn\">\n          <span @click=\"doConfirm\" :class=\"{active:isActive}\"><i class=\"iconfont icon-conf-complete\"></i>确认完成</span>\n        </div>\n        <div class=\"w-table-content\">\n          <el-table\n            :data=\"workerInfo\"\n            style=\"width: 100%\">\n            <el-table-column\n              prop=\"tableName\"\n              label=\"THIS表名\">\n            </el-table-column>\n            <el-table-column\n              prop=\"tableCnName\"\n              label=\"数据涵义\">\n            </el-table-column>\n            <el-table-column\n              prop=\"standardCode\"\n              label=\"标准文号\">\n            </el-table-column>\n            <el-table-column\n              prop=\"tableAttention\"\n              label=\"注意事项\">\n            </el-table-column>\n            <el-table-column\n              label=\"操作\">\n              <template slot-scope=\"scope\">\n                <div class=\"operate\">\n                  <i class=\"iconfont icon-look-over\" @click=\"getDetail(scope.row)\"></i>\n                  <i class=\"iconfont icon-export\" @click=\"exportSql(scope.row.id)\"></i>\n                </div>\n              </template>\n            </el-table-column>\n          </el-table>\n        </div>\n        <div class=\"w-table-page\">\n          <el-pagination\n            @size-change=\"handleSizeChange\"\n            @current-change=\"handleCurrentChange\"\n            :current-page=\"currentPage\"\n            :page-sizes=\"[10, 20, 30, 40]\"\n            :page-size=\"pageSize\"\n            layout=\"total, sizes, prev, pager, next, jumper\"\n            :total=\"total\">\n          </el-pagination>\n        </div>\n      </div>\n    </div>\n    <!--行标数据-查看-弹窗-->\n    <el-dialog :title=\"lookTile\"\n               width=\"50%\"\n               :visible.sync=\"look\">\n      <el-table :data=\"gridData\" class=\"my-table-style\">\n        <el-table-column v-for=\"(col,index) in cols\" :property=\"col\" :label=\"col\" :key=\"index\"></el-table-column>\n      </el-table>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"look = false\" size=\"medium\">取消</el-button>\n        <el-button type=\"primary\"\n                   @click=\"exportDataInfo()\"\n                   size=\"medium\">\n          导出\n        </el-button>\n      </div>\n    </el-dialog>\n\n    <!--新增数据弹框-->\n    <el-dialog title=\"基础数据\" width=\"30%\" :visible.sync=\"workderInforWindow\">\n      <el-form :model=\"workForm\" :rules=\"rules\" ref=\"workForm\">\n        <el-form-item label=\"库表编号\" label-width=\"80px\" prop=\"tableCode\">\n          <el-input v-model=\"workForm.tableCode\" auto-complete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"库表名称\" label-width=\"80px\" prop=\"tableName\" required>\n          <el-input v-model=\"workForm.tableName\" auto-complete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"中文名称\" label-width=\"80px\" prop=\"tableCnName\" required>\n          <el-input v-model=\"workForm.tableCnName\" auto-complete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"数据类型\" label-width=\"80px\" prop=\"dataType\" required>\n          <el-input v-model=\"workForm.dataType\" auto-complete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"注意事项\" label-width=\"80px\" prop=\"tableAttention\">\n          <el-input v-model=\"workForm.tableAttention\" auto-complete=\"off\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"workderInforWindow = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"addOrModify('workForm')\">确 定</el-button>\n      </div>\n    </el-dialog>\n\n    <!--文件上传弹窗-->\n    <el-dialog title=\"文件上传\" width=\"30%\" :visible.sync=\"uploadWindow\">\n      <el-upload\n        class=\"upload-demo\"\n        :action=\"action\"\n        :on-preview=\"handlePreview\"\n        :on-remove=\"handleRemove\"\n        :on-success=\"uploadSeccess\"\n        :before-remove=\"beforeRemove\"\n        multiple\n        :limit=\"1\"\n        :on-exceed=\"handleExceed\"\n        :file-list=\"fileList\">\n        <el-button size=\"small\" type=\"primary\">点击上传</el-button>\n        <div slot=\"tip\" class=\"el-upload__tip\">只能上传xls/xlsx文件，且不超过500kb</div>\n      </el-upload>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"uploadWindow = false\">取 消</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n<!--JavaScript-->\n<script>\n  import api from '../../../api/api'\n\n  export default {\n    //数据\n    data() {\n      return {\n        pmId: \"\",//项目id\n        dataType: \"3\",//数据类型\n        formLabelWidth: '120px',\n        pageSize: 10,\n        total: 100,\n        currentPage: 1,\n        isActive: false,\n        process: {},\n        look: false,//详情弹出框默认影藏\n        uploadWindow: false,//导入弹出框默认影藏\n        workderInforWindow: false,//新增数据弹框默认影藏\n        action: api.url.basicData.uploadFile,//数据加载url\n        fileList: [],//上传文件参数\n        workerInfo: [],//加载数据参数\n        workId: 0,//默认当前数据id为0\n        lookTile: \"\",//标题名\n        cols: [],//详情列名\n        //数据详情参数\n        gridData: [],\n        //新增数据参数\n        workForm: {\n          tableCode: '',\n          tableName: '',\n          tableCnName: '',\n          dataType: '',\n          tableAttention: ''\n        },\n        //新增数据校验规则\n        rules: {\n          tableCode: [\n            {max: 32, message: '长度最多为32', trigger: 'blur'}\n          ],\n          tableName: [\n            {required: true, message: '请输入库表名称', trigger: 'blur'}\n          ],\n          tableCnName: [\n            {required: true, message: '请输入中文名称', trigger: 'blur'}\n          ],\n          dataType: [\n            {required: true, message: '请输入数据类型', trigger: 'blur'},\n            {pattern: /^[0-9]*$/, message: '请输入数字', trigger: 'blur'}\n          ],\n          tableAttention: [\n            //{pattern: /^1[34578]\\d{9}$/, message: '目前只支持中国大陆的手机号码'}\n          ]\n        }\n      }\n    },\n    created() {\n      this.$parent.setSelectDisable(true);\n      this.$parent.setProjectInfo();\n      this.$nextTick(function () {\n        this.getWorkerInfo();\n      });\n    },\n    methods: {\n      tabSwitch: function (tab, event) {\n        console.log(tab, event);\n        this.activeName = tab.name;\n        this.getWorkerInfo();\n      },\n      /*删除行数据*/\n      deleteRow: function () {\n        this.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          this.$message({\n            type: 'success',\n            message: '删除成功!'\n          });\n        }).catch(() => {\n          this.$message({\n            type: 'info',\n            message: '已取消删除'\n          });\n        });\n      },\n      //加载数据\n      getWorkerInfo: function () {\n        var pageSize = this.pageSize;\n        var currentPage = this.currentPage;\n        var first = (currentPage - 1) * pageSize;\n        //获取项目id\n        this.pmId = this.$parent.getProjectId();\n        console.log(\"projectId:\" + this.pmId);\n        api.post(api.url.basicData.initData, {\n          'first': first,\n          'count': pageSize,\n          pmId: this.pmId,\n          dataType: this.dataType\n        }).then((data) => {\n          console.log(data);\n          this.workerInfo = data.rows;\n          this.total = data.total;\n          this.process = data.process;\n          if (this.process.isEasyDataUse == null || this.process.isEasyDataUse != 1) {\n            this.isActive = false;\n          } else if (this.process.isEasyDataUse == 1) {\n            this.isActive = true;\n          }\n        });\n      },\n      handleSizeChange(val) {\n        console.log(`每页 ${val} 条`);\n        this.pageSize = val;\n        this.getWorkerInfo();\n      },\n      handleCurrentChange(val) {\n        console.log(`当前页: ${val}`);\n        this.currentPage = val;\n        this.getWorkerInfo();\n      },\n      //根据id获取数据信息\n      getDetail: function (data) {\n        this.look = true;\n        this.workId = data.id;\n        this.lookTile = data.tableName;\n        api.post(api.url.basicData.detail, {id: data.id}).then((data) => {\n          console.log(data);\n          this.gridData = data.data;\n          this.cols = data.cols;\n        });\n      },\n\n      //导出excel数据\n      downloadExcel: function () {\n        window.open(api.url.basicData.exportExcel + \"?pmId=\" + this.pmId + \"&dataType=\" + this.dataType);\n      },\n      //上传数据\n      handlePreview(file) {\n        console.log(file);\n      },\n      handleRemove(file, fileList) {\n        console.log(file, fileList);\n      },\n      uploadSeccess: function (response) {\n        console.log(response);\n        if (response.status == 'success') {\n          this.fileList = [];\n          this.uploadWindow = false;\n          this.getWorkerInfo();\n        } else {\n          this.$message.warning(response.msg);\n        }\n      },\n      beforeRemove(file, fileList) {\n        return this.$confirm(`确定移除 ${ file.name }？`);\n      },\n      handleExceed(files, fileList) {\n        this.$message.warning(`当前限制选择 1 个文件，本次选择了 ${files.length} 个文件，共选择了 ${files.length + fileList.length} 个文件`);\n      },\n      //导出表的所有数据\n      exportDataInfo: function () {\n        console.log(this.workId);\n        window.open(api.url.basicData.exportDataInfo + \"?id=\" + this.workId);\n      },\n      //导出sql文件\n      exportSql: function (data) {\n        window.open(api.url.basicData.exportSql + \"?id=\" + data);\n      },\n      //新增数据弹框\n      openWorkinfoWindow: function () {\n        this.workId = 0;\n        this.tableCode = '',\n          this.tableName = '',\n          this.tableCnName = '',\n          this.dataType = '',\n          this.tableAttention = ''\n        this.workderInforWindow = true;\n      },\n      //增加或者修改数据\n      addOrModify: function (formName) {\n        console.log(formName);\n        var json = {\n          id: this.workId,\n          tableCode: this.workForm.tableCode,\n          tableName: this.workForm.tableName,\n          tableCnName: this.workForm.tableCnName,\n          dataType: this.workForm.dataType,\n          tableAttention: this.workForm.tableAttention\n        };\n        this.$refs[formName].validate((valid) => {\n          if (valid) {\n            api.post(api.url.basicData.addOrModify, json).then((data) => {\n              if (data.status = 'success') {\n                this.getWorkerInfo();\n              }\n              this.workderInforWindow = false;\n            });\n          }\n        })\n      },\n      //确认完成\n      doConfirm: function () {\n        var type = \"\";\n        var message = \"\";\n        this.$confirm('确认完成, 是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          api.post(api.url.basicData.confirm, {\n            pmId: this.pmId,\n            dataType: this.dataType\n          }).then((data) => {\n            console.log(data);\n            type = data.type;\n            message = data.msg;\n            this.$message({\n              type: type,\n              message: message\n            });\n            if ('success' == type) {\n              this.isActive = true;\n            }\n          });\n        }).catch(() => {\n          this.$message({\n            type: \"info\",\n            message: \"取消确认！\"\n          });\n        });\n      }\n\n\n    }\n  }\n\n</script>\n<!--CSS-PAGE-->\n<style lang=\"stylus\" scoped>\n  .base-data-maintain {\n  }\n\n  .my-table-style {\n    font-size 10px;\n  }\n\n  .base-data-maintain .tab {\n    margin-top 30px;\n    margin-left 25px;\n  }\n\n  /*1660*/\n  @media screen and (max-width: 1660px) {\n  }\n\n  /*1366*/\n  @media screen and (max-width: 1366px) {\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/implement-work/easy-data-reference.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"base-data-maintain\"},[_c('div',{staticClass:\"tab\"},[_c('div',{staticClass:\"w-table\"},[_c('div',{staticClass:\"w-table-btn\"},[_c('span',{class:{active:_vm.isActive},on:{\"click\":_vm.doConfirm}},[_c('i',{staticClass:\"iconfont icon-conf-complete\"}),_vm._v(\"确认完成\")])]),_vm._v(\" \"),_c('div',{staticClass:\"w-table-content\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.workerInfo}},[_c('el-table-column',{attrs:{\"prop\":\"tableName\",\"label\":\"THIS表名\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"tableCnName\",\"label\":\"数据涵义\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"standardCode\",\"label\":\"标准文号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"tableAttention\",\"label\":\"注意事项\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"operate\"},[_c('i',{staticClass:\"iconfont icon-look-over\",on:{\"click\":function($event){_vm.getDetail(scope.row)}}}),_vm._v(\" \"),_c('i',{staticClass:\"iconfont icon-export\",on:{\"click\":function($event){_vm.exportSql(scope.row.id)}}})])]}}])})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"w-table-page\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[10, 20, 30, 40],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)])]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.lookTile,\"width\":\"50%\",\"visible\":_vm.look},on:{\"update:visible\":function($event){_vm.look=$event}}},[_c('el-table',{staticClass:\"my-table-style\",attrs:{\"data\":_vm.gridData}},_vm._l((_vm.cols),function(col,index){return _c('el-table-column',{key:index,attrs:{\"property\":col,\"label\":col}})})),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"medium\"},on:{\"click\":function($event){_vm.look = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"medium\"},on:{\"click\":function($event){_vm.exportDataInfo()}}},[_vm._v(\"\\n        导出\\n      \")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"基础数据\",\"width\":\"30%\",\"visible\":_vm.workderInforWindow},on:{\"update:visible\":function($event){_vm.workderInforWindow=$event}}},[_c('el-form',{ref:\"workForm\",attrs:{\"model\":_vm.workForm,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"库表编号\",\"label-width\":\"80px\",\"prop\":\"tableCode\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.workForm.tableCode),callback:function ($$v) {_vm.$set(_vm.workForm, \"tableCode\", $$v)},expression:\"workForm.tableCode\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"库表名称\",\"label-width\":\"80px\",\"prop\":\"tableName\",\"required\":\"\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.workForm.tableName),callback:function ($$v) {_vm.$set(_vm.workForm, \"tableName\", $$v)},expression:\"workForm.tableName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"中文名称\",\"label-width\":\"80px\",\"prop\":\"tableCnName\",\"required\":\"\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.workForm.tableCnName),callback:function ($$v) {_vm.$set(_vm.workForm, \"tableCnName\", $$v)},expression:\"workForm.tableCnName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"数据类型\",\"label-width\":\"80px\",\"prop\":\"dataType\",\"required\":\"\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.workForm.dataType),callback:function ($$v) {_vm.$set(_vm.workForm, \"dataType\", $$v)},expression:\"workForm.dataType\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"注意事项\",\"label-width\":\"80px\",\"prop\":\"tableAttention\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.workForm.tableAttention),callback:function ($$v) {_vm.$set(_vm.workForm, \"tableAttention\", $$v)},expression:\"workForm.tableAttention\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.workderInforWindow = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addOrModify('workForm')}}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"文件上传\",\"width\":\"30%\",\"visible\":_vm.uploadWindow},on:{\"update:visible\":function($event){_vm.uploadWindow=$event}}},[_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"action\":_vm.action,\"on-preview\":_vm.handlePreview,\"on-remove\":_vm.handleRemove,\"on-success\":_vm.uploadSeccess,\"before-remove\":_vm.beforeRemove,\"multiple\":\"\",\"limit\":1,\"on-exceed\":_vm.handleExceed,\"file-list\":_vm.fileList}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")]),_vm._v(\" \"),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传xls/xlsx文件，且不超过500kb\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.uploadWindow = false}}},[_vm._v(\"取 消\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-7a8b0790\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/views/implement-work/easy-data-reference.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7a8b0790\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./easy-data-reference.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./easy-data-reference.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./easy-data-reference.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7a8b0790\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./easy-data-reference.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7a8b0790\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/implement-work/easy-data-reference.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}